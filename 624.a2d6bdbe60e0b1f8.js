"use strict";(self.webpackChunkavrox_pto=self.webpackChunkavrox_pto||[]).push([[624],{2784:(ie,k,g)=>{g.r(k),g.d(k,{DashboardModule:()=>Ze});var y=g(4216),e=g(4496);let _=(()=>{class n{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275cmp=e.In1({type:n,selectors:[["app-dashboard"]],standalone:!0,features:[e.UHJ],decls:1,vars:0,template:function(a,i){1&a&&e.wR5(0,"router-outlet")},dependencies:[y.cP],encapsulation:2})}return n})();var o=g(5116),m=g(1368);let x=(()=>{class n{static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275cmp=e.In1({type:n,selectors:[["app-loading"]],standalone:!0,features:[e.UHJ],decls:7,vars:0,consts:[[1,"flex","h-screen"],[1,"m-auto"],["type","button","disabled","",1,"inline-flex","cursor-not-allowed","items-center","rounded-md","bg-primary-500","px-4","py-2","text-sm","font-semibold","leading-6","text-white","shadow","transition","duration-150","ease-in-out","hover:bg-primary-400"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"-ml-1","mr-3","h-5","w-5","animate-spin","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(a,i){1&a&&(e.I0R(0,"div",0)(1,"div",1)(2,"button",2),e.S2Z(),e.I0R(3,"svg",3),e.wR5(4,"circle",4)(5,"path",5),e.C$Y(),e.OEk(6," Loading... "),e.C$Y()()())},dependencies:[m.MD]})}return n})();function Y(n,c){1&n&&(e.SAx(0),e.wR5(1,"app-loading"),e.k70())}const b=n=>({"text-red-500":n});function E(n,c){if(1&n){const t=e.KQA();e.I0R(0,"tr",10),e.qCj("click",function(){const s=e.usT(t).$implicit,p=e.GaO(2);return e.CGJ(p.viewEmployeeAttendanceHistory(s))}),e.I0R(1,"th",11),e.OEk(2),e.C$Y(),e.I0R(3,"td",12),e.OEk(4),e.C$Y(),e.I0R(5,"td",12),e.OEk(6),e.wVc(7,"date"),e.C$Y(),e.I0R(8,"td",12),e.OEk(9),e.wVc(10,"date"),e.C$Y(),e.I0R(11,"td",12),e.OEk(12),e.C$Y(),e.I0R(13,"td",12),e.OEk(14),e.C$Y(),e.I0R(15,"td",12)(16,"span",13),e.OEk(17),e.C$Y()(),e.I0R(18,"td",12),e.OEk(19),e.C$Y(),e.I0R(20,"td",12)(21,"span",13),e.OEk(22),e.wVc(23,"number"),e.wVc(24,"number"),e.C$Y()(),e.wR5(25,"td",14),e.C$Y()}if(2&n){const t=c.$implicit;e.yG2(2),e.oRS(" ",t.name," "),e.yG2(2),e.oRS(" ",t.designation," "),e.yG2(2),e.oRS(" ",e.kDX(7,12,t.joiningDate)," "),e.yG2(3),e.oRS(" ",e.kDX(10,14,t.probationEndDate)," "),e.yG2(3),e.oRS(" ",t.daysPresent," "),e.yG2(2),e.oRS(" ",t.daysAbsent," "),e.yG2(2),e.E7m("ngClass",e.S45(22,b,t.daysSick>=6)),e.yG2(),e.oRS(" ",t.daysSick," / 6 Days "),e.yG2(2),e.oRS(" ",t.daysHalfday," "),e.yG2(2),e.E7m("ngClass",e.S45(24,b,t.daysPto>=15)),e.yG2(),e.CAO(" ",e.g7$(23,16,t.daysPto,"1.0-1")," / ",e.g7$(24,19,t.calculatedPTO,"1.1-1")," ")}}function S(n,c){if(1&n){const t=e.KQA();e.I0R(0,"div",2)(1,"table",3)(2,"thead",4)(3,"tr")(4,"th",5),e.OEk(5,"Name"),e.C$Y(),e.I0R(6,"th",5),e.OEk(7,"Designation"),e.C$Y(),e.I0R(8,"th",5),e.OEk(9,"Joining Date"),e.C$Y(),e.I0R(10,"th",5),e.OEk(11,"Probation Ended"),e.C$Y(),e.I0R(12,"th",5),e.OEk(13,"Presents"),e.C$Y(),e.I0R(14,"th",5),e.OEk(15,"Absents"),e.C$Y(),e.I0R(16,"th",5),e.OEk(17,"Sick Leaves"),e.C$Y(),e.I0R(18,"th",5),e.OEk(19,"Half Days"),e.C$Y(),e.I0R(20,"th",5),e.OEk(21,"PTO"),e.C$Y(),e.I0R(22,"th",5)(23,"span",6),e.OEk(24,"Edit"),e.C$Y()()()(),e.I0R(25,"tbody"),e.yuY(26,E,26,26,"tr",7),e.C$Y()(),e.I0R(27,"div",8)(28,"button",9),e.qCj("click",function(){e.usT(t);const i=e.GaO();return e.CGJ(i.addAttendance())}),e.OEk(29," Edit Attendance "),e.C$Y()()()}if(2&n){const t=e.GaO();e.yG2(26),e.E7m("ngForOf",t.users)}}let $=(()=>{class n{constructor(t,a){this.router=t,this.dashboardService=a,this.users=[]}ngOnInit(){this.dashboardService.getAllAttendencies().subscribe(t=>{this.users=t.data,this.users.sort((a,i)=>a.name.localeCompare(i.name))})}addAttendance(){this.router.navigate(["dashboard/add-attendance"])}viewEmployeeAttendanceHistory(t){this.router.navigate([`dashboard/view-attendance-history/${t._id}`])}static#e=this.\u0275fac=function(a){return new(a||n)(e.GI1(y.E5),e.GI1(o.y))};static#t=this.\u0275cmp=e.In1({type:n,selectors:[["app-home"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["employees",""],[1,"relative","overflow-x-auto","p-4","sm:rounded-lg"],[1,"w-full","text-left","text-sm","text-gray-500","dark:text-gray-400","rtl:text-right"],[1,"bg-gray-50","text-xs","uppercase","text-gray-700","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"px-6","py-3"],[1,"sr-only"],["class","cursor-pointer border-b bg-white hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-600",3,"click",4,"ngFor","ngForOf"],[1,"mt-4","flex","justify-end"],[1,"rounded-full","bg-blue-500","px-4","py-2","text-xs","text-white","hover:bg-blue-600",3,"click"],[1,"cursor-pointer","border-b","bg-white","hover:bg-gray-50","dark:border-gray-700","dark:bg-gray-800","dark:hover:bg-gray-600",3,"click"],["scope","row",1,"whitespace-nowrap","px-6","py-4","font-medium","text-gray-900","dark:text-white"],[1,"px-6","py-4"],[3,"ngClass"],[1,"px-6","py-4","text-right"]],template:function(a,i){if(1&a&&e.yuY(0,Y,2,0,"ng-container",0)(1,S,30,1,"ng-template",null,1,e.gJz),2&a){const s=e.Gew(2);e.E7m("ngIf",0===i.users.length)("ngIfElse",s)}},dependencies:[m.QF,m.ay,m.u_,x,m.hl,m.y],encapsulation:2})}return n})();function D(n,c){if(1&n){const t=e.KQA();e.I0R(0,"li",4),e.qCj("click",function(){const s=e.usT(t).$implicit,p=e.GaO(2);return e.CGJ(s.action(p.id))}),e.OEk(1),e.C$Y()}if(2&n){const t=c.$implicit;e.yG2(),e.cNF(t.label)}}function T(n,c){if(1&n&&(e.I0R(0,"ul",2),e.yuY(1,D,2,1,"li",3),e.C$Y()),2&n){const t=e.GaO();e.yG2(),e.E7m("ngForOf",t.lists)}}let O=(()=>{class n{constructor(){this.isOpen=!1,this.id="",this.caption="",this.lists=[]}static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275cmp=e.In1({type:n,selectors:[["drop-down-select"]],inputs:{id:"id",caption:"caption",lists:"lists"},standalone:!0,features:[e.UHJ],decls:3,vars:2,consts:[[1,"kebab-icon",3,"click"],["class","example-list",4,"ngIf"],[1,"example-list"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(a,i){1&a&&(e.I0R(0,"span",0),e.qCj("click",function(){return i.isOpen=!i.isOpen}),e.OEk(1),e.C$Y(),e.yuY(2,T,2,1,"ul",1)),2&a&&(e.yG2(),e.oRS(" ",i.caption," "),e.yG2(),e.E7m("ngIf",i.isOpen))},dependencies:[m.MD,m.ay,m.u_],styles:[".example-list[_ngcontent-%COMP%]{position:absolute;width:100px;border:solid 1px #ccc;border-radius:5px;background:#fff;text-align:center;padding:10px;margin:0}.kebab-icon[_ngcontent-%COMP%]{cursor:pointer}.example-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{list-style-type:none;border-bottom:solid 1px #8b8b8b;padding:8px 0}.example-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{background-color:#3b82f6;color:#fff;cursor:pointer}.example-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:last-child{border-bottom:none}"]})}return n})();var A=g(6716),w=g(7048);let G=(()=>{class n{constructor(t){this.http=t,this.APIURL=A.O.apiUrl}getAllUsers(){return this.http.get(this.APIURL+"users")}static#e=this.\u0275fac=function(a){return new(a||n)(e.CoB(w.KK))};static#t=this.\u0275prov=e.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function M(n,c){1&n&&(e.SAx(0),e.wR5(1,"app-loading"),e.k70())}function q(n,c){if(1&n&&(e.I0R(0,"tr",10)(1,"td",11),e.OEk(2),e.C$Y(),e.I0R(3,"td",11),e.OEk(4),e.C$Y(),e.I0R(5,"td",11),e.OEk(6),e.C$Y(),e.I0R(7,"td",11),e.OEk(8),e.wVc(9,"date"),e.C$Y(),e.I0R(10,"td",11),e.OEk(11),e.C$Y(),e.I0R(12,"td",11),e.OEk(13),e.C$Y(),e.I0R(14,"td",11),e.wR5(15,"drop-down-select",12),e.C$Y()()),2&n){const t=c.$implicit,a=c.index,i=e.GaO(3);e.yG2(2),e.oRS(" ",a+1," "),e.yG2(2),e.oRS(" ",t.name," "),e.yG2(2),e.oRS(" ",t.email," "),e.yG2(2),e.oRS(" ",e.g7$(9,8,t.joiningDate,"mediumDate")," "),e.yG2(3),e.oRS(" ",t.role," "),e.yG2(2),e.oRS(" ",t.designation," "),e.yG2(2),e._6D("id",t._id),e.E7m("lists",i.dropdownLists)}}function F(n,c){if(1&n&&(e.SAx(0),e.yuY(1,q,16,11,"tr",9),e.k70()),2&n){const t=e.GaO(2);e.yG2(),e.E7m("ngForOf",t.employees)}}function P(n,c){1&n&&(e.I0R(0,"tr")(1,"td",13),e.OEk(2,"-- No data available --"),e.C$Y()())}function j(n,c){if(1&n){const t=e.KQA();e.I0R(0,"div",2)(1,"h3",3),e.OEk(2,"All Employees"),e.C$Y(),e.I0R(3,"button",4),e.qCj("click",function(){e.usT(t);const i=e.GaO();return e.CGJ(i.addEmployee())}),e.OEk(4,"Add New"),e.C$Y(),e.I0R(5,"table",5)(6,"thead",6)(7,"tr")(8,"th",7),e.OEk(9,"No"),e.C$Y(),e.I0R(10,"th",7),e.OEk(11,"Name"),e.C$Y(),e.I0R(12,"th",7),e.OEk(13,"Email"),e.C$Y(),e.I0R(14,"th",7),e.OEk(15,"Joining Date"),e.C$Y(),e.I0R(16,"th",7),e.OEk(17,"Role"),e.C$Y(),e.I0R(18,"th",7),e.OEk(19,"Designation"),e.C$Y(),e.I0R(20,"th",7),e.OEk(21,"Action"),e.C$Y()()(),e.I0R(22,"tbody"),e.yuY(23,F,2,1,"ng-container",0)(24,P,3,0,"ng-template",null,8,e.gJz),e.C$Y()()()}if(2&n){const t=e.Gew(25),a=e.GaO();e.yG2(23),e.E7m("ngIf",a.employees.length)("ngIfElse",t)}}let L=(()=>{class n{constructor(t,a,i){this.employeeService=t,this.zone=a,this.router=i,this.dropdownLists=[{label:"Edit",action:s=>this.editEmployee(s)}]}ngOnInit(){this.fetchUsers()}fetchUsers(){this.employeeService.getAllUsers().subscribe(t=>{this.zone.run(()=>{this.employees=t.data})},t=>{console.error("Error fetching employees:",t)})}addEmployee(){this.router.navigate(["dashboard/add-employee"])}editEmployee(t){this.router.navigate([`dashboard/edit-employee/${t}`])}static#e=this.\u0275fac=function(a){return new(a||n)(e.GI1(G),e.GI1(e.WW2),e.GI1(y.E5))};static#t=this.\u0275cmp=e.In1({type:n,selectors:[["app-employees"]],standalone:!0,features:[e.UHJ],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["info",""],[1,"relative","m-4","mx-auto","mb-6","max-w-6xl","overflow-x-auto","rounded-md","bg-white","p-16","shadow-md","sm:rounded-lg"],[1,"m-6","text-left","text-3xl","font-bold"],[1,"my-4","rounded","bg-blue-700","p-4","text-center","text-sm","text-white",3,"click"],[1,"w-full","text-left","text-sm","text-gray-500","dark:text-gray-400","lg:px-80","rtl:text-right"],[1,"bg-gray-50","text-xs","uppercase","text-gray-700","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"px-6","py-3"],["noData",""],["class","border-b bg-white hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-600",4,"ngFor","ngForOf"],[1,"border-b","bg-white","hover:bg-gray-50","dark:border-gray-700","dark:bg-gray-800","dark:hover:bg-gray-600"],[1,"px-6","py-4"],["caption","...",3,"id","lists"],["colspan","7",1,"w-full","py-2","text-center"]],template:function(a,i){if(1&a&&e.yuY(0,M,2,0,"ng-container",0)(1,j,26,2,"ng-template",null,1,e.gJz),2&a){const s=e.Gew(2);e.E7m("ngIf",!i.employees)("ngIfElse",s)}},dependencies:[O,x,m.MD,m.ay,m.u_,m.y]})}return n})();var I=g(4400),d=g(4716);function N(n,c){if(1&n&&(e.I0R(0,"option",11),e.OEk(1),e.C$Y()),2&n){const t=c.$implicit;e.E7m("value",t._id),e.yG2(),e.cNF(t.name)}}function U(n,c){1&n&&(e.SAx(0),e.OEk(1,"Loading..."),e.k70())}function J(n,c){1&n&&(e.SAx(0),e.OEk(1,"Submit"),e.k70())}function B(n,c){if(1&n){const t=e.KQA();e.I0R(0,"div")(1,"div",5)(2,"label",6),e.OEk(3,"Date"),e.C$Y(),e.I0R(4,"input",12),e.iHE("ngModelChange",function(i){e.usT(t);const s=e.GaO(2);return e.kNx(s.selectedDate,i)||(s.selectedDate=i),e.CGJ(i)}),e.C$Y()(),e.I0R(5,"div",5)(6,"label",6),e.OEk(7,"Status"),e.C$Y(),e.I0R(8,"select",13),e.iHE("ngModelChange",function(i){e.usT(t);const s=e.GaO(2);return e.kNx(s.attendanceStatus,i)||(s.attendanceStatus=i),e.CGJ(i)}),e.qCj("change",function(){e.usT(t);const i=e.GaO(2);return e.CGJ(i.onStatusChange())}),e.I0R(9,"option",14),e.OEk(10,"Present"),e.C$Y(),e.I0R(11,"option",15),e.OEk(12,"Absent"),e.C$Y(),e.I0R(13,"option",16),e.OEk(14,"Half Day"),e.C$Y(),e.I0R(15,"option",17),e.OEk(16,"PTO"),e.C$Y(),e.I0R(17,"option",18),e.OEk(18,"Sick Leave"),e.C$Y()()(),e.I0R(19,"button",19),e.qCj("click",function(){e.usT(t);const i=e.GaO(2);return e.CGJ(i.submitAttendance())}),e.yuY(20,U,2,0,"ng-container",10)(21,J,2,0,"ng-container",10),e.C$Y()()}if(2&n){const t=e.GaO(2);e.yG2(4),e.OKB("ngModel",t.selectedDate),e.E7m("max",t.getCurrentDate()),e.yG2(4),e.OKB("ngModel",t.attendanceStatus),e.yG2(11),e.E7m("disabled",t.loading),e.yG2(),e.E7m("ngIf",t.loading),e.yG2(),e.E7m("ngIf",!t.loading)}}function H(n,c){if(1&n){const t=e.KQA();e.SAx(0),e.I0R(1,"div",2)(2,"div",3)(3,"h2",4),e.OEk(4,"Employee Details"),e.C$Y()(),e.I0R(5,"form")(6,"div",5)(7,"label",6),e.OEk(8,"Choose Employee"),e.C$Y(),e.I0R(9,"select",7),e.iHE("ngModelChange",function(i){e.usT(t);const s=e.GaO();return e.kNx(s.selectedEmployeeId,i)||(s.selectedEmployeeId=i),e.CGJ(i)}),e.I0R(10,"option",8),e.OEk(11,"Select an employee"),e.C$Y(),e.yuY(12,N,2,2,"option",9),e.C$Y()(),e.yuY(13,B,22,6,"div",10),e.C$Y()(),e.k70()}if(2&n){const t=e.GaO();e.yG2(9),e.OKB("ngModel",t.selectedEmployeeId),e.yG2(3),e.E7m("ngForOf",t.employees),e.yG2(),e.E7m("ngIf",t.selectedEmployeeId)}}function V(n,c){1&n&&e.wR5(0,"app-loading")}let z=(()=>{class n{constructor(t,a,i,s,p){this.route=t,this.router=a,this.dashboardService=i,this.zone=s,this.toastr=p,this.selectedDate=(new Date).toISOString().split("T")[0],this.attendanceStatus="present",this.selectedEmployeeId="",this.employees=[],this.loading=!1}ngOnInit(){this.fetchEmployees()}getCurrentDate(){const t=new Date;return t.setDate(t.getDate()+1),t.toISOString().split("T")[0]}fetchEmployees(){this.dashboardService.getAllAttendencies().subscribe(t=>{this.zone.run(()=>{this.employees=t.data})},t=>{console.error("Error fetching employees:",t)})}onStatusChange(){}submitAttendance(){let t;t={userId:this.selectedEmployeeId,date:this.selectedDate,status:this.attendanceStatus},this.loading=!0,this.dashboardService.submitAttendance(t,this.selectedEmployeeId).subscribe(a=>{this.toastr.success("Success"),this.router.navigate(["dashboard/home"]),this.loading=!1},a=>{this.toastr.error(a.error.error),this.loading=!1})}static#e=this.\u0275fac=function(a){return new(a||n)(e.GI1(y.gV),e.GI1(y.E5),e.GI1(o.y),e.GI1(e.WW2),e.GI1(I.SA))};static#t=this.\u0275cmp=e.In1({type:n,selectors:[["app-add-attendance"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["showLoading",""],[1,"m-4","mx-auto","max-w-2xl","rounded-md","bg-white","p-6","shadow-md"],[1,"mb-6"],[1,"mb-4","text-2xl","font-bold"],[1,"mb-4"],[1,"mb-2","block","text-sm","font-bold","text-gray-700"],["name","selectedEmployeeId",1,"w-full","appearance-none","rounded","border","px-3","py-2",3,"ngModel","ngModelChange"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],["type","date","name","selectedDate",1,"w-full","appearance-none","rounded","border","px-3","py-2",3,"ngModel","max","ngModelChange"],["name","attendanceStatus",1,"w-full","appearance-none","rounded","border","px-3","py-2",3,"ngModel","ngModelChange","change"],["value","present"],["value","absent"],["value","halfday"],["value","pto"],["value","sick"],["type","button",1,"rounded","bg-primary-500","px-4","py-2","text-white",3,"disabled","click"]],template:function(a,i){if(1&a&&e.yuY(0,H,14,3,"ng-container",0)(1,V,1,0,"ng-template",null,1,e.gJz),2&a){const s=e.Gew(2);e.E7m("ngIf",i.employees.length>0)("ngIfElse",s)}},dependencies:[m.ay,m.u_,d.sz,d.wd,d.GO,d.ot,d.GC,d.ue,d.u,d._G,d.SC,x]})}return n})();function Q(n,c){1&n&&(e.I0R(0,"div",17),e.OEk(1," Name must only contain letters, without any numbers "),e.C$Y())}function oe(n,c){1&n&&(e.I0R(0,"div",17),e.OEk(1,"Invalid email address"),e.C$Y())}function K(n,c){1&n&&(e.I0R(0,"div",17),e.OEk(1," Password must be at least 8 characters long and include at least one uppercase letter, one number, and one special character. "),e.C$Y())}function Z(n,c){1&n&&(e.I0R(0,"div",17),e.OEk(1,"Role is required"),e.C$Y())}function W(n,c){1&n&&(e.I0R(0,"div",17),e.OEk(1,"Joining Date is required"),e.C$Y())}function X(n,c){1&n&&(e.I0R(0,"div",17),e.OEk(1," Designation must only contain letters, without any numbers "),e.C$Y())}function ee(n,c){1&n&&(e.SAx(0),e.OEk(1,"Loading..."),e.k70())}function r(n,c){1&n&&(e.SAx(0),e.OEk(1,"Submit"),e.k70())}let f=(()=>{class n{constructor(t,a,i,s){this.dashboardService=t,this.router=a,this.formBuilder=i,this.toastr=s,this.userData={name:"",email:"",password:"",role:"employee",joiningDate:new Date,designation:""},this.loading=!1,this.employeeForm=this.formBuilder.group({name:["",[d.AQ.required,d.AQ.pattern(/^[a-zA-Z ]*$/)]],email:["",[d.AQ.required,d.AQ.email]],password:["",[d.AQ.required,d.AQ.minLength(8),d.AQ.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]*$/)]],role:["employee",d.AQ.required],joiningDate:[new Date,d.AQ.required],designation:["",[d.AQ.required,d.AQ.pattern(/^[a-zA-Z ]*$/)]]})}isInvalid(t){const a=this.employeeForm.controls[t];return a.invalid&&(a.dirty||a.touched)&&null!==a.value&&""!==a.value}createUser(){this.employeeForm.valid&&(this.loading=!0,this.userData={...this.employeeForm.value},this.dashboardService.createUser(this.userData).subscribe(t=>{this.toastr.success(t.message),this.loading=!1,this.router.navigate(["dashboard/home"])},t=>{this.loading=!1,this.toastr.error(t.error.error)}))}static#e=this.\u0275fac=function(a){return new(a||n)(e.GI1(o.y),e.GI1(y.E5),e.GI1(d.im),e.GI1(I.SA))};static#t=this.\u0275cmp=e.In1({type:n,selectors:[["app-add-employee"]],decls:42,vars:10,consts:[[1,"m-4","mx-auto","max-w-2xl","rounded-md","bg-white","p-6","shadow-md"],[1,"mb-6"],[1,"mb-4","text-2xl","font-bold"],[3,"formGroup"],[1,"mb-4"],[1,"mb-2","block","text-sm","font-bold","text-gray-700"],["type","text","formControlName","name","required","",1,"w-full","appearance-none","rounded","border","px-3","py-2"],["class","mt-1 text-sm text-red-500",4,"ngIf"],["type","email","formControlName","email","required","",1,"w-full","appearance-none","rounded","border","px-3","py-2"],["type","text","formControlName","password","required","",1,"w-full","appearance-none","rounded","border","px-3","py-2"],["formControlName","role","required","",1,"w-full","appearance-none","rounded","border","px-3","py-2"],["value","employee"],["value","admin"],["type","date","formControlName","joiningDate","required","",1,"w-full","appearance-none","rounded","border","px-3","py-2"],["type","text","formControlName","designation","required","",1,"w-full","appearance-none","rounded","border","px-3","py-2"],["type","button",1,"rounded","bg-primary-500","px-4","py-2","text-white",3,"disabled","click"],[4,"ngIf"],[1,"mt-1","text-sm","text-red-500"]],template:function(a,i){1&a&&(e.I0R(0,"div",0)(1,"div",1)(2,"h2",2),e.OEk(3,"Add New Employee"),e.C$Y()(),e.I0R(4,"form",3)(5,"div",4)(6,"label",5),e.OEk(7,"Full Name"),e.C$Y(),e.wR5(8,"input",6),e.yuY(9,Q,2,0,"div",7),e.C$Y(),e.I0R(10,"div",4)(11,"label",5),e.OEk(12,"Email"),e.C$Y(),e.wR5(13,"input",8),e.yuY(14,oe,2,0,"div",7),e.C$Y(),e.I0R(15,"div",4)(16,"label",5),e.OEk(17,"Password"),e.C$Y(),e.wR5(18,"input",9),e.yuY(19,K,2,0,"div",7),e.C$Y(),e.I0R(20,"div",4)(21,"label",5),e.OEk(22,"Role"),e.C$Y(),e.I0R(23,"select",10)(24,"option",11),e.OEk(25,"Employee"),e.C$Y(),e.I0R(26,"option",12),e.OEk(27,"Admin"),e.C$Y()(),e.yuY(28,Z,2,0,"div",7),e.C$Y(),e.I0R(29,"div",4)(30,"label",5),e.OEk(31,"Joining Date"),e.C$Y(),e.wR5(32,"input",13),e.yuY(33,W,2,0,"div",7),e.C$Y(),e.I0R(34,"div",4)(35,"label",5),e.OEk(36,"Designation"),e.C$Y(),e.wR5(37,"input",14),e.yuY(38,X,2,0,"div",7),e.C$Y(),e.I0R(39,"button",15),e.qCj("click",function(){return i.createUser()}),e.yuY(40,ee,2,0,"ng-container",16)(41,r,2,0,"ng-container",16),e.C$Y()()()),2&a&&(e.yG2(4),e.E7m("formGroup",i.employeeForm),e.yG2(5),e.E7m("ngIf",i.isInvalid("name")),e.yG2(5),e.E7m("ngIf",i.isInvalid("email")),e.yG2(5),e.E7m("ngIf",i.isInvalid("password")),e.yG2(9),e.E7m("ngIf",i.isInvalid("role")),e.yG2(5),e.E7m("ngIf",i.isInvalid("joiningDate")),e.yG2(5),e.E7m("ngIf",i.isInvalid("designation")),e.yG2(),e.E7m("disabled",i.loading),e.yG2(),e.E7m("ngIf",i.loading),e.yG2(),e.E7m("ngIf",!i.loading))},dependencies:[m.u_,d.sz,d.wd,d.GO,d.ot,d.GC,d.ue,d.u,d.eJ,d.uW,d.Wo]})}return n})();var l=g(9204);function u(n,c){1&n&&(e.SAx(0),e.wR5(1,"app-loading"),e.k70())}function h(n,c){if(1&n&&(e.I0R(0,"div",2)(1,"div",3)(2,"h2",4),e.OEk(3,"My Details"),e.C$Y()(),e.I0R(4,"div",5)(5,"div")(6,"label",6),e.OEk(7,"Name"),e.C$Y(),e.I0R(8,"div",7),e.OEk(9),e.C$Y()(),e.I0R(10,"div")(11,"label",6),e.OEk(12,"Paid Time Off Remaining"),e.C$Y(),e.I0R(13,"div",7),e.OEk(14),e.C$Y()(),e.I0R(15,"div")(16,"label",6),e.OEk(17,"Joining Date"),e.C$Y(),e.I0R(18,"div",7),e.OEk(19),e.wVc(20,"date"),e.C$Y()(),e.I0R(21,"div")(22,"label",6),e.OEk(23,"Probation End Date"),e.C$Y(),e.I0R(24,"div",7),e.OEk(25),e.wVc(26,"date"),e.C$Y()(),e.I0R(27,"div")(28,"label",6),e.OEk(29,"Designation"),e.C$Y(),e.I0R(30,"div",7),e.OEk(31),e.C$Y()(),e.I0R(32,"div")(33,"label",6),e.OEk(34,"Days Absent"),e.C$Y(),e.I0R(35,"div",7),e.OEk(36),e.C$Y()(),e.I0R(37,"div")(38,"label",6),e.OEk(39,"Sick Leaves"),e.C$Y(),e.I0R(40,"div",7),e.OEk(41),e.C$Y()()()()),2&n){const t=e.GaO();e.yG2(9),e.cNF(t.employeeData.name),e.yG2(5),e.oRS("",t.employeeData.daysPto," / 15 Days"),e.yG2(5),e.cNF(e.kDX(20,7,t.employeeData.joiningDate)),e.yG2(6),e.cNF(e.kDX(26,9,t.employeeData.probationEndDate)),e.yG2(6),e.cNF(t.employeeData.designation),e.yG2(5),e.oRS("",t.employeeData.daysAbsent," Days"),e.yG2(5),e.oRS("",t.employeeData.daysSick," / 6 Days")}}let C=(()=>{class n{constructor(t,a){this.dashboardService=t,this.authService=a}ngOnInit(){this.dashboardService.getSingleEmployee(this.authService.getUserData()?.userId).subscribe(t=>{this.employeeData=t.data})}static#e=this.\u0275fac=function(a){return new(a||n)(e.GI1(o.y),e.GI1(l.o))};static#t=this.\u0275cmp=e.In1({type:n,selectors:[["app-view-pto"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["showEmployee",""],[1,"m-4","mx-auto","max-w-2xl","rounded-md","bg-white","p-6","shadow-md"],[1,"mb-6"],[1,"mb-4","text-3xl","font-bold"],[1,"mb-4","grid","grid-cols-2","gap-4"],[1,"mb-2","block","text-sm","font-bold","text-gray-700"],[1,"text-lg"]],template:function(a,i){if(1&a&&e.yuY(0,u,2,0,"ng-container",0)(1,h,42,11,"ng-template",null,1,e.gJz),2&a){const s=e.Gew(2);e.E7m("ngIf",!i.employeeData)("ngIfElse",s)}},dependencies:[m.u_,x,m.y]})}return n})();function R(n,c){1&n&&(e.SAx(0),e.wR5(1,"app-loading"),e.k70())}function se(n,c){if(1&n&&(e.I0R(0,"div",10)(1,"div",11)(2,"span",12),e.OEk(3,"Start Date:"),e.C$Y(),e.I0R(4,"span"),e.OEk(5),e.wVc(6,"date"),e.C$Y()(),e.I0R(7,"div",11)(8,"span",12),e.OEk(9,"End Date:"),e.C$Y(),e.I0R(10,"span"),e.OEk(11),e.wVc(12,"date"),e.C$Y()(),e.I0R(13,"div",11)(14,"span",12),e.OEk(15,"Leave Type:"),e.C$Y(),e.I0R(16,"span"),e.OEk(17),e.C$Y()(),e.I0R(18,"div",11)(19,"span",12),e.OEk(20,"Status:"),e.C$Y(),e.I0R(21,"span"),e.OEk(22),e.C$Y()()()),2&n){const t=c.$implicit;e.yG2(5),e.cNF(e.g7$(6,4,t.leaveDate,"yyyy-MM-dd")),e.yG2(6),e.cNF(e.g7$(12,7,t.endDate,"yyyy-MM-dd")),e.yG2(6),e.cNF(t.status),e.yG2(5),e.cNF(t.state)}}function re(n,c){1&n&&(e.I0R(0,"div",38),e.OEk(1," End date must be a future date. "),e.C$Y())}function le(n,c){if(1&n){const t=e.KQA();e.I0R(0,"div",19)(1,"label",35),e.OEk(2,"End Date:"),e.C$Y(),e.I0R(3,"input",36),e.qCj("blur",function(){e.usT(t);const i=e.GaO(3);return e.CGJ(i.validateDate())}),e.C$Y(),e.yuY(4,re,2,0,"div",37),e.C$Y()}if(2&n){const t=e.GaO(3);e.yG2(3),e.E7m("min",t.calculateMinEndDate()),e.yG2(),e.E7m("ngIf",t.dateForm.get("endDate").hasError("invalidDate")&&t.dateForm.get("endDate").touched)}}function de(n,c){1&n&&(e.SAx(0),e.OEk(1,"Loading..."),e.k70())}function ce(n,c){1&n&&(e.SAx(0),e.OEk(1,"Submit"),e.k70())}function ue(n,c){if(1&n){const t=e.KQA();e.I0R(0,"form",13),e.qCj("ngSubmit",function(){e.usT(t);const i=e.GaO(2);return e.CGJ(i.submitLeaveRequest())}),e.I0R(1,"label",14)(2,"input",15),e.qCj("change",function(){e.usT(t);const i=e.GaO(2);return e.CGJ(i.toggleMultipleDay())}),e.C$Y(),e.wR5(3,"div",16),e.I0R(4,"span",17),e.OEk(5,"Request for multiple dates"),e.C$Y()(),e.I0R(6,"div",18)(7,"div",19)(8,"label",20),e.OEk(9),e.C$Y(),e.wR5(10,"input",21),e.C$Y(),e.yuY(11,le,5,2,"div",22),e.C$Y(),e.I0R(12,"div",23)(13,"label",24),e.OEk(14,"Leave Type:"),e.C$Y(),e.I0R(15,"select",25)(16,"option",26),e.OEk(17,"Sick"),e.C$Y(),e.I0R(18,"option",27),e.OEk(19,"Half Day"),e.C$Y(),e.I0R(20,"option",28),e.OEk(21,"PTO"),e.C$Y()()(),e.I0R(22,"div",23)(23,"label",29),e.OEk(24,"Reason:"),e.C$Y(),e.wR5(25,"textarea",30),e.C$Y(),e.I0R(26,"div",31)(27,"button",32),e.qCj("click",function(){e.usT(t);const i=e.GaO(2);return e.CGJ(i.toggleLeaveRequestForm())}),e.OEk(28," Cancel "),e.C$Y(),e.I0R(29,"button",33),e.yuY(30,de,2,0,"ng-container",34)(31,ce,2,0,"ng-container",34),e.C$Y()()()}if(2&n){const t=e.GaO(2);let a;e.E7m("formGroup",t.dateForm),e.yG2(2),e.E7m("checked",t.multipleDays),e.yG2(7),e.oRS(" ",t.multipleDays?"Start Date:":"Leave Date:"," "),e.yG2(2),e.E7m("ngIf",t.multipleDays),e.yG2(9),e.E7m("disabled",!t.isPTOAllowed()),e.yG2(9),e.E7m("disabled",t.dateForm.invalid||!(null!=(a=t.dateForm.get("startDate"))&&a.value)||!(null!=(a=t.dateForm.get("selection"))&&a.value)||t.loading),e.yG2(),e.E7m("ngIf",t.loading),e.yG2(),e.E7m("ngIf",!t.loading)}}function pe(n,c){if(1&n){const t=e.KQA();e.I0R(0,"div",2)(1,"h2",3),e.OEk(2,"Leave Details"),e.C$Y(),e.I0R(3,"h3",4),e.OEk(4,"Recent Leave Requests"),e.C$Y(),e.I0R(5,"div",5),e.yuY(6,se,23,10,"div",6),e.C$Y(),e.I0R(7,"div",7)(8,"button",8),e.qCj("click",function(){e.usT(t);const i=e.GaO();return e.CGJ(i.makeLeaveRequest())}),e.OEk(9),e.C$Y()(),e.yuY(10,ue,32,8,"form",9),e.C$Y()}if(2&n){const t=e.GaO();e.yG2(6),e.E7m("ngForOf",t.leaveDetails.leaveRequests.reverse()),e.yG2(2),e.E7m("disabled",t.isRequestInProgress),e.yG2(),e.oRS(" ",t.isRequestInProgress?"Request In Progress, Please Wait...":"Make Request"," "),e.yG2(),e.E7m("ngIf",t.showLeaveRequestForm)}}let me=(()=>{class n{constructor(t,a,i,s,p,ne){this.route=t,this.router=a,this.dashboardService=i,this.authService=s,this.fb=p,this.toastr=ne,this.userId="",this.showLeaveRequestForm=!1,this.multipleDays=!1,this.isRequestInProgress=!1,this.loading=!1}ngOnInit(){this.route.paramMap.subscribe(t=>{this.userId=t.get("userId")||"",this.getLeaveDetails(),this.getEmployeeData()}),this.dateForm=this.fb.group({startDate:["",d.AQ.required],endDate:[""],selection:["",d.AQ.required],reason:["",d.AQ.required]})}validateDate(){const t=this.dateForm.get("startDate")?.value,a=this.dateForm.get("endDate")?.value;a&&new Date(a)<=new Date(t)?this.dateForm.get("endDate")?.setErrors({invalidDate:!0}):this.dateForm.get("endDate")?.setErrors(null)}getLeaveDetails(){const t=this.authService.getUserData()?.userId;this.dashboardService.getLeaveDetailsById(t??"").subscribe(a=>{this.leaveDetails=a,this.checkRequestInProgress()},a=>{console.error("Error fetching leave details",a)})}getEmployeeData(){const t=this.authService.getUserData()?.userId;this.dashboardService.getSingleEmployee(t??"").subscribe(a=>{this.employeeData=a.data},a=>{console.error("Error fetching employee data",a)})}checkRequestInProgress(){this.leaveDetails&&this.leaveDetails.leaveRequests&&(this.isRequestInProgress=this.leaveDetails.leaveRequests.some(t=>"pending"===t.state))}makeLeaveRequest(){this.isRequestInProgress?alert("Request Already In Progress, Please Wait...."):this.showLeaveRequestForm=!0}submitLeaveRequest(){if(this.multipleDays&&this.validateDate(),!this.dateForm.valid)return;const t={startDate:this.dateForm.value.startDate,endDate:this.dateForm.value.endDate,status:this.dateForm.value.selection,message:this.dateForm.value.reason};this.loading=!0,this.dashboardService.makeLeaveRequest(this.authService.getUserData()?.userId??"",t).subscribe(a=>{this.loading=!1,this.toastr.success(a.message),this.showLeaveRequestForm=!1,this.getLeaveDetails()},a=>{this.loading=!1,this.toastr.error(a.error.error)})}toggleLeaveRequestForm(){this.showLeaveRequestForm=!this.showLeaveRequestForm}toggleMultipleDay(){this.multipleDays=!this.multipleDays;const t=this.dateForm.get("endDate");this.multipleDays||t?.setValue(""),this.multipleDays?t?.setValidators([d.AQ.required]):t?.clearValidators(),t?.updateValueAndValidity()}calculateMinEndDate(){const t=this.dateForm.get("startDate")?.value,a=new Date(t);return a.setDate(a.getDate()+1),a.toISOString().split("T")[0]}isPTOAllowed(){const t=new Date(this.employeeData.probationEndDate);return new Date>=t}static#e=this.\u0275fac=function(a){return new(a||n)(e.GI1(y.gV),e.GI1(y.E5),e.GI1(o.y),e.GI1(l.o),e.GI1(d.im),e.GI1(I.SA))};static#t=this.\u0275cmp=e.In1({type:n,selectors:[["app-add-request"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["showLeaveDetails",""],[1,"m-4","mx-auto","max-w-2xl","rounded-md","bg-white","p-6","shadow-md"],[1,"mb-4","text-2xl","font-bold"],[1,"mb-4","text-lg","font-bold"],[1,"max-h-96","overflow-y-auto"],["class","mb-4 rounded-md border p-4",4,"ngFor","ngForOf"],[1,"mt-4","flex","justify-end"],[1,"rounded","bg-primary-500","px-4","py-2","text-white",3,"disabled","click"],["class","mt-4",3,"formGroup","ngSubmit",4,"ngIf"],[1,"mb-4","rounded-md","border","p-4"],[1,"mb-2","flex","items-center"],[1,"mr-2","text-sm","font-bold","text-gray-700"],[1,"mt-4",3,"formGroup","ngSubmit"],[1,"relative","mb-4","inline-flex","cursor-pointer","items-center"],["type","checkbox",1,"peer","sr-only",3,"checked","change"],[1,"peer","h-6","w-11","rounded-full","bg-gray-200","after:absolute","after:start-[2px]","after:top-[2px]","after:h-5","after:w-5","after:rounded-full","after:border","after:border-gray-300","after:bg-white","after:transition-all","after:content-['']","peer-checked:bg-blue-600","peer-checked:after:translate-x-full","peer-checked:after:border-white","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-blue-300","dark:border-gray-600","dark:bg-gray-700","dark:peer-focus:ring-blue-800","rtl:peer-checked:after:-translate-x-full"],[1,"ml-3","ms-3","text-sm","font-medium","text-gray-900","dark:text-gray-300"],[1,"mb-4","flex","gap-4"],[1,"flex-auto"],["for","startDate",1,"block","text-sm","font-bold","text-gray-700"],["type","date","id","startDate","formControlName","startDate",1,"form-input"],["class","flex-auto",4,"ngIf"],[1,"mb-4","block","text-sm","font-bold","text-gray-700"],["for","state"],["id","state","formControlName","selection",1,"form-select"],["value","sick"],["value","halfday"],["value","pto",3,"disabled"],["for","reason"],["id","reason","formControlName","reason"],[1,"flex","justify-end"],["type","button",1,"mr-4","text-primary-500","hover:underline",3,"click"],["type","submit",1,"rounded","bg-primary-500","px-4","py-2","text-white",3,"disabled"],[4,"ngIf"],["for","endDate",1,"block","text-sm","font-bold","text-gray-700"],["type","date","id","endDate","formControlName","endDate",1,"form-input",3,"min","blur"],["class","text-xs text-red-500",4,"ngIf"],[1,"text-xs","text-red-500"]],template:function(a,i){if(1&a&&e.yuY(0,R,2,0,"ng-container",0)(1,pe,11,4,"ng-template",null,1,e.gJz),2&a){const s=e.Gew(2);e.E7m("ngIf",!i.leaveDetails)("ngIfElse",s)}},dependencies:[m.ay,m.u_,d.sz,d.wd,d.GO,d.ot,d.GC,d.ue,d.u,d.uW,d.Wo,x,m.y]})}return n})();var ge=g(2982);function he(n,c){if(1&n){const t=e.KQA();e.I0R(0,"tr",9)(1,"td",10),e.OEk(2),e.C$Y(),e.I0R(3,"td",11),e.OEk(4),e.wVc(5,"date"),e.C$Y(),e.I0R(6,"td",11),e.OEk(7),e.wVc(8,"date"),e.C$Y(),e.I0R(9,"td",11),e.OEk(10),e.wVc(11,"date"),e.C$Y(),e.I0R(12,"td",11),e.OEk(13),e.C$Y(),e.I0R(14,"td",11),e.OEk(15),e.C$Y(),e.I0R(16,"td",11),e.OEk(17),e.C$Y(),e.I0R(18,"td",12)(19,"button",13),e.qCj("click",function(){const s=e.usT(t).$implicit,p=e.GaO(2);return e.CGJ(p.approveLeave(s._id))}),e.I0R(20,"span",14),e.OEk(21,"Approve"),e.C$Y()(),e.I0R(22,"button",15),e.qCj("click",function(){const s=e.usT(t).$implicit,p=e.GaO(2);return e.CGJ(p.declineLeave(s._id))}),e.I0R(23,"span",14),e.OEk(24,"Reject"),e.C$Y()()()()}if(2&n){const t=c.$implicit;e.yG2(2),e.cNF(t.user.name),e.yG2(2),e.cNF(e.g7$(5,7,t.timestamp,"dd MMM yy")),e.yG2(3),e.cNF(e.g7$(8,10,t.startDate,"dd MMM yy")),e.yG2(3),e.cNF(e.g7$(11,13,t.endDate,"dd MMM yy")),e.yG2(3),e.cNF(t.workingDays),e.yG2(2),e.cNF(t.status),e.yG2(2),e.cNF(t.message)}}function fe(n,c){if(1&n&&(e.SAx(0),e.yuY(1,he,25,16,"tr",8),e.k70()),2&n){const t=e.GaO();e.yG2(),e.E7m("ngForOf",t.leaveRequests)}}function ye(n,c){1&n&&(e.I0R(0,"tr")(1,"td",16),e.OEk(2,"-- No data available --"),e.C$Y()())}let _e=(()=>{class n{constructor(t,a,i,s,p){this.route=t,this.router=a,this.dashboardService=i,this.authService=s,this.menuService=p,this.leaveRequests=[]}ngOnInit(){this.fetchLeaveRequests()}fetchLeaveRequests(){this.dashboardService.getLeaveRequestById().subscribe(t=>{this.leaveRequests=t.filter(i=>"approved"!==i.state&&"rejected"!==i.state),this.menuService.leaveRequests.next(this.leaveRequests.length);const a=new Set;for(const i of this.leaveRequests)a.add(i.user._id)},t=>{console.error("Error fetching leave requests",t)})}approveLeave(t){const a=this.authService.getUserName()||"",s=this.leaveRequests.find(p=>p._id===t)?.user._id||"";this.dashboardService.approveLeaveRequest(t,"approved",a,s).subscribe(()=>{this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.onSameUrlNavigation="reload",this.router.navigate([this.route.snapshot.url])},p=>{console.error("Error approving leave",p)})}declineLeave(t){const a=this.authService.getUserName()||"",s=this.leaveRequests.find(p=>p._id===t)?.user._id||"";this.dashboardService.approveLeaveRequest(t,"rejected",a,s).subscribe(()=>{this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.onSameUrlNavigation="reload",this.router.navigate([this.route.snapshot.url])},p=>{console.error("Error declining leave",p)})}static#e=this.\u0275fac=function(a){return new(a||n)(e.GI1(y.gV),e.GI1(y.E5),e.GI1(o.y),e.GI1(l.o),e.GI1(ge.C))};static#t=this.\u0275cmp=e.In1({type:n,selectors:[["app-get-request"]],decls:26,vars:2,consts:[[1,"m-4","mx-auto","mb-6","max-w-6xl","rounded-md","bg-white","p-6","shadow-md"],[1,"mb-6","text-center","text-3xl","font-bold"],[1,"w-full"],[1,"border-b-2","text-justify"],[1,"w-1/8","mr-1.5","py-3"],[1,"mr-1.5","w-1/6","py-3"],[4,"ngIf","ngIfElse"],["noData",""],["class","border-b",4,"ngFor","ngForOf"],[1,"border-b"],[1,"mr-1.5","py-2"],[1,"py-2"],[1,"mr-1.5","flex","space-x-3","py-2"],[1,"btn-action","btn-approve","rounded","bg-green-500","text-white",3,"click"],[1,"text-sm"],[1,"btn-action","btn-decline","rounded","bg-red-500","text-white",3,"click"],["colspan","7",1,"w-full","py-2","text-center"]],template:function(a,i){if(1&a&&(e.I0R(0,"div",0)(1,"h2",1),e.OEk(2,"Leave Requests"),e.C$Y(),e.I0R(3,"table",2)(4,"thead")(5,"tr",3)(6,"th",4),e.OEk(7,"Name"),e.C$Y(),e.I0R(8,"th",5),e.OEk(9,"Request Date"),e.C$Y(),e.I0R(10,"th",4),e.OEk(11,"Start Date"),e.C$Y(),e.I0R(12,"th",4),e.OEk(13,"End Date"),e.C$Y(),e.I0R(14,"th",4),e.OEk(15,"Leave Days"),e.C$Y(),e.I0R(16,"th",4),e.OEk(17,"Leave Type"),e.C$Y(),e.I0R(18,"th",4),e.OEk(19,"Message"),e.C$Y(),e.I0R(20,"th",4),e.OEk(21,"Action"),e.C$Y()()(),e.I0R(22,"tbody"),e.yuY(23,fe,2,1,"ng-container",6)(24,ye,3,0,"ng-template",null,7,e.gJz),e.C$Y()()()),2&a){const s=e.Gew(25);e.yG2(23),e.E7m("ngIf",i.leaveRequests&&i.leaveRequests.length)("ngIfElse",s)}},dependencies:[m.ay,m.u_,m.y]})}return n})();function be(n,c){1&n&&(e.I0R(0,"span",12)(1,"button",13),e.OEk(2,"Approved"),e.C$Y()())}function Ce(n,c){1&n&&(e.I0R(0,"span",14)(1,"button",15),e.OEk(2,"Declined"),e.C$Y()())}function ve(n,c){if(1&n&&(e.I0R(0,"tr",8)(1,"td",9),e.OEk(2),e.C$Y(),e.I0R(3,"td",9),e.OEk(4),e.wVc(5,"date"),e.C$Y(),e.I0R(6,"td",9),e.OEk(7),e.wVc(8,"date"),e.C$Y(),e.I0R(9,"td",9),e.OEk(10),e.wVc(11,"date"),e.C$Y(),e.I0R(12,"td",9),e.OEk(13),e.C$Y(),e.I0R(14,"td",9),e.OEk(15),e.C$Y(),e.I0R(16,"td",9),e.yuY(17,be,3,0,"span",10)(18,Ce,3,0,"span",11),e.C$Y()()),2&n){const t=c.$implicit;e.yG2(2),e.cNF(t.user.name),e.yG2(2),e.cNF(e.g7$(5,8,t.startDate,"dd MMM yy")),e.yG2(3),e.cNF(e.g7$(8,11,t.endDate,"dd MMM yy")),e.yG2(3),e.cNF(e.g7$(11,14,t.timestamp,"dd MMM yy")),e.yG2(3),e.cNF(t.status),e.yG2(2),e.cNF(t.approvedby),e.yG2(2),e.E7m("ngIf","approved"===t.state),e.yG2(),e.E7m("ngIf","rejected"===t.state)}}function xe(n,c){if(1&n&&(e.SAx(0),e.yuY(1,ve,19,17,"tr",7),e.k70()),2&n){const t=e.GaO();e.yG2(),e.E7m("ngForOf",t.leaveRequests)}}function Ee(n,c){1&n&&(e.I0R(0,"tr")(1,"td",16),e.OEk(2,"-- No data available --"),e.C$Y()())}let Ie=(()=>{class n{constructor(t,a,i){this.route=t,this.router=a,this.dashboardService=i,this.leaveRequests=[]}ngOnInit(){this.fetchLeaveRequests()}fetchLeaveRequests(){this.dashboardService.getLeaveRequestById().subscribe(t=>{this.leaveRequests=t.filter(a=>"pending"!==a.state)},t=>{console.error("Error fetching leave requests",t)})}static#e=this.\u0275fac=function(a){return new(a||n)(e.GI1(y.gV),e.GI1(y.E5),e.GI1(o.y))};static#t=this.\u0275cmp=e.In1({type:n,selectors:[["app-get-request-history"]],decls:24,vars:2,consts:[[1,"m-4","mx-auto","max-w-6xl","rounded-md","bg-white","p-6","shadow-md"],[1,"mb-6","text-center","text-3xl","font-bold"],[1,"w-full"],[1,"border-b-2","text-justify"],[1,"w-1/7","py-3"],[4,"ngIf","ngIfElse"],["noData",""],["class","border-b",4,"ngFor","ngForOf"],[1,"border-b"],[1,"py-2"],["class","text-white",4,"ngIf"],["class","text-red-500",4,"ngIf"],[1,"text-white"],[1,"rounded-full","bg-green-600","px-2","py-1"],[1,"text-red-500"],[1,"rounded-full","bg-red-200","px-2","py-1"],["colspan","7",1,"py-2","text-center"]],template:function(a,i){if(1&a&&(e.I0R(0,"div",0)(1,"h2",1),e.OEk(2,"Leave Requests History"),e.C$Y(),e.I0R(3,"table",2)(4,"thead")(5,"tr",3)(6,"th",4),e.OEk(7,"Name"),e.C$Y(),e.I0R(8,"th",4),e.OEk(9,"Start Date"),e.C$Y(),e.I0R(10,"th",4),e.OEk(11,"End Date"),e.C$Y(),e.I0R(12,"th",4),e.OEk(13,"Request Date"),e.C$Y(),e.I0R(14,"th",4),e.OEk(15,"Leave Type"),e.C$Y(),e.I0R(16,"th",4),e.OEk(17,"Approved By"),e.C$Y(),e.I0R(18,"th",4),e.OEk(19,"Status"),e.C$Y()()(),e.I0R(20,"tbody"),e.yuY(21,xe,2,1,"ng-container",5)(22,Ee,3,0,"ng-template",null,6,e.gJz),e.C$Y()()()),2&a){const s=e.Gew(23);e.yG2(21),e.E7m("ngIf",i.leaveRequests&&i.leaveRequests.length)("ngIfElse",s)}},dependencies:[m.ay,m.u_,m.y]})}return n})();var te=g(6700),ke=g(5657);let ae=(()=>{class n{constructor(){this.showPopupSubject=new te.g(!1),this.showPopup$=this.showPopupSubject.asObservable(),this.userActionSubject=new ke.E,this.userAction$=this.userActionSubject.asObservable(),this.messageSubject=new te.g(""),this.message$=this.messageSubject.asObservable()}togglePopup(t=""){this.messageSubject.next(t),this.showPopupSubject.next(!this.showPopupSubject.value)}hidePopup(t){this.userActionSubject.next(t),this.showPopupSubject.next(!1)}static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275prov=e.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),we=(()=>{class n{ngOnInit(){this.popupService.message$.subscribe(t=>{this.message=t})}constructor(t){this.popupService=t,this.message=""}closePopup(){this.popupService.hidePopup(!0)}cancelPopup(){this.popupService.hidePopup(!1)}static#e=this.\u0275fac=function(a){return new(a||n)(e.GI1(ae))};static#t=this.\u0275cmp=e.In1({type:n,selectors:[["app-popup"]],decls:19,vars:1,consts:[[1,"flex","h-screen","items-center","justify-center"],[1,"fixed","left-0","top-0","h-full","w-full","bg-white","opacity-80"],["id","popup-modal","tabindex","-1",1,"overlay","fixed","bottom-0","left-0","right-0","top-0","z-50","flex","items-center","justify-center","overflow-y-auto","overflow-x-hidden"],[1,"relative","max-h-full","w-full","max-w-md","p-4"],[1,"relative","rounded-lg","bg-white","shadow","dark:bg-gray-700"],["type","button",1,"absolute","end-2.5","top-3","ms-auto","inline-flex","h-8","w-8","items-center","justify-center","rounded-lg","bg-transparent","text-sm","text-gray-400","hover:bg-gray-200","hover:text-gray-900","dark:hover:bg-gray-600","dark:hover:text-white",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"h-3","w-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"],[1,"sr-only"],[1,"p-4","text-center","md:p-5"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 20 20",1,"mx-auto","mb-4","h-12","w-12","text-gray-400","dark:text-gray-200"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[1,"mb-5","text-lg","font-normal","text-gray-500","dark:text-gray-400"],["type","button",1,"inline-flex","items-center","rounded-lg","bg-red-600","px-5","py-2.5","text-center","text-sm","font-medium","text-white","focus:outline-none","focus:ring-4","focus:ring-red-300","hover:bg-red-800","dark:focus:ring-red-800",3,"click"],["type","button",1,"ms-3","rounded-lg","border","border-gray-200","bg-white","px-5","py-2.5","text-sm","font-medium","text-gray-900","focus:z-10","focus:outline-none","focus:ring-4","focus:ring-gray-100","hover:bg-gray-100","hover:text-blue-700","dark:border-gray-600","dark:bg-gray-800","dark:text-gray-400","dark:focus:ring-gray-700","dark:hover:bg-gray-700","dark:hover:text-white",3,"click"]],template:function(a,i){1&a&&(e.I0R(0,"div",0),e.wR5(1,"div",1),e.I0R(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),e.qCj("click",function(){return i.cancelPopup()}),e.S2Z(),e.I0R(6,"svg",6),e.wR5(7,"path",7),e.C$Y(),e.gRP(),e.I0R(8,"span",8),e.OEk(9,"Close modal"),e.C$Y()(),e.I0R(10,"div",9),e.S2Z(),e.I0R(11,"svg",10),e.wR5(12,"path",11),e.C$Y(),e.gRP(),e.I0R(13,"h3",12),e.OEk(14),e.C$Y(),e.I0R(15,"button",13),e.qCj("click",function(){return i.closePopup()}),e.OEk(16," Yes, I'm sure "),e.C$Y(),e.I0R(17,"button",14),e.qCj("click",function(){return i.cancelPopup()}),e.OEk(18," No, cancel "),e.C$Y()()()()()()),2&a&&(e.yG2(14),e.cNF(i.message))},encapsulation:2})}return n})();function Re(n,c){1&n&&(e.SAx(0),e.wR5(1,"app-popup"),e.k70())}function Oe(n,c){1&n&&(e.I0R(0,"div",21),e.OEk(1," Password must contain at least 1 uppercase letter, 1 number, 1 special character, and be at least 8 characters long. "),e.C$Y())}function Ge(n,c){1&n&&(e.SAx(0),e.OEk(1,"Loading..."),e.k70())}function Ye(n,c){1&n&&(e.SAx(0),e.OEk(1,"Update Details"),e.k70())}function Se(n,c){1&n&&(e.SAx(0),e.OEk(1,"Loading..."),e.k70())}function $e(n,c){1&n&&(e.SAx(0),e.OEk(1,"Delete Employee"),e.k70())}function De(n,c){if(1&n){const t=e.KQA();e.I0R(0,"button",22),e.qCj("click",function(){e.usT(t);const i=e.GaO(2);return e.CGJ(i.confirmationPopup())}),e.yuY(1,Se,2,0,"ng-container",0)(2,$e,2,0,"ng-container",0),e.C$Y()}if(2&n){const t=e.GaO(2);e.E7m("disabled",t.deleteLoading),e.yG2(),e.E7m("ngIf",t.deleteLoading),e.yG2(),e.E7m("ngIf",!t.deleteLoading)}}function Te(n,c){if(1&n){const t=e.KQA();e.I0R(0,"div")(1,"div",5)(2,"label",6),e.OEk(3,"Name"),e.C$Y(),e.I0R(4,"input",7),e.iHE("ngModelChange",function(i){e.usT(t);const s=e.GaO();return e.kNx(s.name,i)||(s.name=i),e.CGJ(i)}),e.qCj("input",function(){e.usT(t);const i=e.GaO();return e.CGJ(i.updateButtonStatus())}),e.C$Y()(),e.I0R(5,"div",5)(6,"label",6),e.OEk(7,"Email"),e.C$Y(),e.I0R(8,"input",8),e.iHE("ngModelChange",function(i){e.usT(t);const s=e.GaO();return e.kNx(s.email,i)||(s.email=i),e.CGJ(i)}),e.qCj("input",function(){e.usT(t);const i=e.GaO();return e.CGJ(i.updateButtonStatus())}),e.C$Y()(),e.I0R(9,"div",5)(10,"div",9)(11,"input",10),e.iHE("ngModelChange",function(i){e.usT(t);const s=e.GaO();return e.kNx(s.isChangePassword,i)||(s.isChangePassword=i),e.CGJ(i)}),e.qCj("change",function(){e.usT(t);const i=e.GaO();return e.CGJ(i.updateButtonStatus())}),e.C$Y(),e.I0R(12,"label",11),e.OEk(13,"Change Password"),e.C$Y()()(),e.I0R(14,"div",5)(15,"label",6),e.OEk(16,"Password"),e.C$Y(),e.I0R(17,"input",12),e.iHE("ngModelChange",function(i){e.usT(t);const s=e.GaO();return e.kNx(s.password,i)||(s.password=i),e.CGJ(i)}),e.qCj("input",function(){e.usT(t);const i=e.GaO();return e.CGJ(i.updateButtonStatus())}),e.C$Y(),e.yuY(18,Oe,2,0,"div",13),e.C$Y(),e.I0R(19,"div",5)(20,"label",6),e.OEk(21,"Designation"),e.C$Y(),e.I0R(22,"input",14),e.iHE("ngModelChange",function(i){e.usT(t);const s=e.GaO();return e.kNx(s.designation,i)||(s.designation=i),e.CGJ(i)}),e.qCj("input",function(){e.usT(t);const i=e.GaO();return e.CGJ(i.updateButtonStatus())}),e.C$Y()(),e.I0R(23,"div",5)(24,"label",6),e.OEk(25,"Joining Date"),e.C$Y(),e.I0R(26,"input",15),e.iHE("ngModelChange",function(i){e.usT(t);const s=e.GaO();return e.kNx(s.joiningDate,i)||(s.joiningDate=i),e.CGJ(i)}),e.qCj("input",function(){e.usT(t);const i=e.GaO();return e.CGJ(i.updateButtonStatus())}),e.C$Y()(),e.I0R(27,"div",5)(28,"label",6),e.OEk(29,"Role"),e.C$Y(),e.I0R(30,"select",16),e.iHE("ngModelChange",function(i){e.usT(t);const s=e.GaO();return e.kNx(s.role,i)||(s.role=i),e.CGJ(i)}),e.qCj("ngModelChange",function(){e.usT(t);const i=e.GaO();return e.CGJ(i.updateButtonStatus())}),e.I0R(31,"option",17),e.OEk(32,"Employee"),e.C$Y(),e.I0R(33,"option",18),e.OEk(34,"Admin"),e.C$Y()()(),e.I0R(35,"button",19),e.qCj("click",function(){e.usT(t);const i=e.GaO();return e.CGJ(i.updateEmployeeDetails())}),e.yuY(36,Ge,2,0,"ng-container",0)(37,Ye,2,0,"ng-container",0),e.C$Y(),e.yuY(38,De,3,3,"button",20),e.C$Y()}if(2&n){const t=e.GaO(),a=e.Gew(5);e.yG2(4),e.OKB("ngModel",t.name),e.yG2(4),e.OKB("ngModel",t.email),e.yG2(3),e.OKB("ngModel",t.isChangePassword),e.yG2(3),e.eAK("opacity-50",!t.isChangePassword),e.yG2(3),e.OKB("ngModel",t.password),e.E7m("disabled",!t.isChangePassword),e.yG2(),e.E7m("ngIf",null==a.controls.password?null:a.controls.password.hasError("pattern")),e.yG2(4),e.OKB("ngModel",t.designation),e.yG2(4),e.OKB("ngModel",t.joiningDate),e.yG2(4),e.OKB("ngModel",t.role),e.yG2(5),e.eAK("bg-gray-300",!t.isUpdateButtonEnabled)("bg-blue-500",t.isUpdateButtonEnabled),e.E7m("disabled",!t.isUpdateButtonEnabled||t.updateLoading),e.yG2(),e.E7m("ngIf",t.updateLoading),e.yG2(),e.E7m("ngIf",!t.updateLoading),e.yG2(),e.E7m("ngIf","admin"!==t.originalEmployeeDetails.role)}}let Ae=(()=>{class n{constructor(t,a,i,s,p,ne){this.route=t,this.router=a,this.dashboardService=i,this.zone=s,this.toastr=p,this.popupService=ne,this.name="",this.email="",this.designation="",this.role="",this.joiningDate="",this.isChangePassword=!1,this.password="",this.selectedEmployeeId="",this.employees=[],this.isPasswordVisible=!1,this.isUpdateButtonEnabled=!1,this.originalEmployeeDetails={},this.updateLoading=!1,this.deleteLoading=!1}ngOnInit(){this.route.params.subscribe(t=>{t.id&&(this.selectedEmployeeId=t.id,this.fetchEmployeeInfo())}),this.userActionSubscription=this.popupService.userAction$.subscribe(t=>{t&&this.deleteUser()})}ngOnDestroy(){this.userActionSubscription&&this.userActionSubscription.unsubscribe()}fetchEmployeeInfo(){this.selectedEmployeeId&&this.dashboardService.getUserById(this.selectedEmployeeId).subscribe(t=>{this.originalEmployeeDetails={...t},this.updateFormWithEmployeeDetails(),this.updateButtonStatus()},t=>{console.error("Error fetching employee details:",t)})}updateEmployeeDetails(){if(this.selectedEmployeeId){const t={};if(this.name!==this.originalEmployeeDetails.name&&(t.name=this.name),this.email!==this.originalEmployeeDetails.email&&(t.email=this.email),this.designation!==this.originalEmployeeDetails.designation&&(t.designation=this.designation),this.role!==this.originalEmployeeDetails.role&&(t.role=this.role),this.joiningDate!==this.originalEmployeeDetails.joiningDate.split("T")[0]&&(t.joiningDate=this.joiningDate),this.password&&this.isChangePassword){if(!this.validatePassword(this.password))return void console.error("Password does not meet the requirements.");t.password=this.password}const a={};Object.keys(t).forEach(i=>{a[i]=t[i]}),this.updateLoading=!0,this.dashboardService.updateUserById(this.selectedEmployeeId,a).subscribe(i=>{this.toastr.success(i.message),this.updateLoading=!1,this.router.navigate(["dashboard/employees"])},i=>{this.updateLoading=!1,this.toastr.error(i.error.error)})}}togglePasswordVisibility(){this.isPasswordVisible=!this.isPasswordVisible}updateFormWithEmployeeDetails(){this.name=this.originalEmployeeDetails.name,this.email=this.originalEmployeeDetails.email,this.designation=this.originalEmployeeDetails.designation,this.joiningDate=this.originalEmployeeDetails.joiningDate.split("T")[0],this.role=this.originalEmployeeDetails.role,this.password=this.originalEmployeeDetails.password}updateButtonStatus(){this.isUpdateButtonEnabled=this.name!==this.originalEmployeeDetails.name||this.email!==this.originalEmployeeDetails.email||this.designation!==this.originalEmployeeDetails.designation||this.role!==this.originalEmployeeDetails.role||this.joiningDate!==this.originalEmployeeDetails.joiningDate.split("T")[0]||!0===this.isChangePassword&&this.validatePassword(this.password)}confirmationPopup(){this.popupService.togglePopup("Are you sure you want to delete this user?")}validatePassword(t){return/^(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&^#])[A-Za-z\d@$!%*?&^#]{8,}$/.test(t)}deleteUser(){this.selectedEmployeeId&&(this.deleteLoading=!0,this.dashboardService.deleteUserById(this.selectedEmployeeId).subscribe(t=>{this.deleteLoading=!1,this.toastr.success(t.message),this.router.navigate(["dashboard/employees"])},t=>{this.deleteLoading=!1,this.toastr.error(t.error.error)}))}static#e=this.\u0275fac=function(a){return new(a||n)(e.GI1(y.gV),e.GI1(y.E5),e.GI1(o.y),e.GI1(e.WW2),e.GI1(I.SA),e.GI1(ae))};static#t=this.\u0275cmp=e.In1({type:n,selectors:[["app-edit-employee"]],decls:11,vars:4,consts:[[4,"ngIf"],["credentialsForm","ngForm"],[1,"m-4","mx-auto","max-w-2xl","rounded-md","bg-white","p-6","shadow-md"],[1,"mb-6"],[1,"mb-4","text-2xl","font-bold"],[1,"mb-4"],[1,"mb-2","block","text-sm","font-bold","text-gray-700"],["name","name",1,"w-full","appearance-none","rounded","border","px-3","py-2",3,"ngModel","ngModelChange","input"],["name","email",1,"w-full","appearance-none","rounded","border","px-3","py-2",3,"ngModel","ngModelChange","input"],[1,"flex","items-center"],["checked","","id","checked-checkbox","type","checkbox","name","isChangePassword",1,"h-4","w-4","rounded","border-gray-300","bg-gray-100","text-blue-600","focus:ring-2","focus:ring-blue-500","dark:border-gray-600","dark:bg-gray-700","dark:ring-offset-gray-800","dark:focus:ring-blue-600",3,"ngModel","ngModelChange","change"],["for","checked-checkbox",1,"ms-2","text-sm","font-medium","text-gray-900","dark:text-gray-300"],["name","password","pattern","^(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&^#])[A-Za-z\\d@$!%*?&^#]{8,}$",1,"w-full","appearance-none","rounded","border","px-3","py-2",3,"ngModel","disabled","ngModelChange","input"],["class","text-sm text-red-500",4,"ngIf"],["name","designation",1,"w-full","appearance-none","rounded","border","px-3","py-2",3,"ngModel","ngModelChange","input"],["type","date","name","joiningDate",1,"w-full","appearance-none","rounded","border","px-3","py-2",3,"ngModel","ngModelChange","input"],["name","role",1,"w-full","appearance-none","rounded","border","px-3","py-2",3,"ngModel","ngModelChange"],["value","employee"],["value","admin"],["type","button",1,"rounded","px-4","py-2","text-white",3,"disabled","click"],["type","button","class","ml-2 rounded bg-red-500 px-4 py-2 text-white",3,"disabled","click",4,"ngIf"],[1,"text-sm","text-red-500"],["type","button",1,"ml-2","rounded","bg-red-500","px-4","py-2","text-white",3,"disabled","click"]],template:function(a,i){1&a&&(e.SAx(0),e.I0R(1,"div"),e.yuY(2,Re,2,0,"ng-container",0),e.wVc(3,"async"),e.C$Y(),e.I0R(4,"form",null,1)(6,"div",2)(7,"div",3)(8,"h2",4),e.OEk(9,"Employee Details"),e.C$Y()(),e.yuY(10,Te,39,19,"div",0),e.C$Y()(),e.k70()),2&a&&(e.yG2(2),e.E7m("ngIf",e.kDX(3,2,i.popupService.showPopup$)),e.yG2(8),e.E7m("ngIf",i.selectedEmployeeId))},dependencies:[m.u_,d.sz,d.wd,d.GO,d.ot,d.SU,d.GC,d.ue,d.u,d.E1,d._G,d.SC,we,m.a]})}return n})();function Me(n,c){1&n&&(e.I0R(0,"div",15),e.OEk(1," Password must contain at least 1 uppercase letter, 1 number, 1 special character, and be at least 8 characters long. "),e.C$Y())}function qe(n,c){1&n&&(e.I0R(0,"div",15),e.OEk(1," Passwords do not match. "),e.C$Y())}let Fe=(()=>{class n{constructor(t,a,i,s){this.dashboardService=t,this.authService=a,this.router=i,this.datePipe=s,this.selectedOption="none",this.newEmail="",this.newPassword="",this.confirmPassword="",this.loggedInUser={},this.name=""}ngOnInit(){const t=this.authService.getUserData()?.userId;t&&this.dashboardService.getUserById(t).subscribe(a=>{this.loggedInUser={...a,joiningDate:this.datePipe.transform(a.joiningDate,"mediumDate")},this.name=this.loggedInUser.name},a=>{console.error("Error fetching employee details:",a)})}updateCredentials(){if(this.newPassword!==this.confirmPassword)return void console.error("Password and Confirm Password do not match.");if(!this.validatePassword(this.newPassword))return void console.error("Password does not meet the requirements.");const t={name:this.name,password:this.newPassword},a=this.authService.getUserData()?.userId;a&&this.dashboardService.updateUserById(a,t).subscribe(i=>{this.router.navigate(["dashboard/home"])},i=>{console.error("Error updating email:",i)})}validatePassword(t){return/^(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&^#])[A-Za-z\d@$!%*?&^#]{8,}$/.test(t)}static#e=this.\u0275fac=function(a){return new(a||n)(e.GI1(o.y),e.GI1(l.o),e.GI1(y.E5),e.GI1(m.y))};static#t=this.\u0275cmp=e.In1({type:n,selectors:[["app-change-employee"]],decls:38,vars:13,consts:[[1,"m-4","mx-auto","max-w-2xl","rounded-md","bg-white","p-6","shadow-md"],[1,"mb-6"],[1,"mb-4","text-2xl","font-bold"],["credentialsForm","ngForm"],[1,"mb-4"],[1,"mb-2","block","text-sm","font-bold","text-gray-700"],["name","name",1,"w-full","appearance-none","rounded","border","px-3","py-2",3,"ngModel","ngModelChange"],["disabled","","name","email",1,"w-full","appearance-none","rounded","border","px-3","py-2","opacity-50",3,"ngModel","ngModelChange"],["type","password","name","newPassword","pattern","^(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&^#])[A-Za-z\\d@$!%*?&^#]{8,}$","required","",1,"w-full","appearance-none","rounded","border","px-3","py-2",3,"ngModel","ngModelChange"],["class","text-sm text-red-500",4,"ngIf"],["type","password","name","confirmPassword","required","",1,"w-full","appearance-none","rounded","border","px-3","py-2",3,"ngModel","ngModelChange"],["disabled","","name","designation",1,"w-full","appearance-none","rounded","border","px-3","py-2","opacity-50",3,"ngModel","ngModelChange"],["disabled","","name","joiningDate",1,"w-full","appearance-none","rounded","border","px-3","py-2","opacity-50",3,"ngModel","ngModelChange"],[1,"flex","justify-end"],["type","button",3,"disabled","click"],[1,"text-sm","text-red-500"]],template:function(a,i){if(1&a&&(e.I0R(0,"div",0)(1,"div",1)(2,"h2",2),e.OEk(3,"Edit Profile"),e.C$Y()(),e.I0R(4,"form",null,3)(6,"div",4)(7,"label",5),e.OEk(8,"Name"),e.C$Y(),e.I0R(9,"input",6),e.iHE("ngModelChange",function(p){return e.kNx(i.name,p)||(i.name=p),p}),e.C$Y()(),e.I0R(10,"div",4)(11,"label",5),e.OEk(12,"Email"),e.C$Y(),e.I0R(13,"input",7),e.iHE("ngModelChange",function(p){return e.kNx(i.loggedInUser.email,p)||(i.loggedInUser.email=p),p}),e.C$Y()(),e.I0R(14,"div",4)(15,"label",5),e.OEk(16,"New Password"),e.C$Y(),e.I0R(17,"input",8),e.iHE("ngModelChange",function(p){return e.kNx(i.newPassword,p)||(i.newPassword=p),p}),e.C$Y(),e.yuY(18,Me,2,0,"div",9),e.I0R(19,"label",5),e.OEk(20,"Confirm New Password"),e.C$Y(),e.I0R(21,"input",10),e.iHE("ngModelChange",function(p){return e.kNx(i.confirmPassword,p)||(i.confirmPassword=p),p}),e.C$Y(),e.yuY(22,qe,2,0,"div",9),e.C$Y(),e.I0R(23,"div",4)(24,"label",5),e.OEk(25,"Designation"),e.C$Y(),e.I0R(26,"input",11),e.iHE("ngModelChange",function(p){return e.kNx(i.loggedInUser.designation,p)||(i.loggedInUser.designation=p),p}),e.C$Y()(),e.I0R(27,"div",4)(28,"label",5),e.OEk(29,"Joining Date"),e.C$Y(),e.I0R(30,"input",12),e.iHE("ngModelChange",function(p){return e.kNx(i.loggedInUser.joiningDate,p)||(i.loggedInUser.joiningDate=p),p}),e.C$Y()(),e.I0R(31,"div",4)(32,"label",5),e.OEk(33,"Role"),e.C$Y(),e.I0R(34,"input",11),e.iHE("ngModelChange",function(p){return e.kNx(i.loggedInUser.role,p)||(i.loggedInUser.role=p),p}),e.C$Y()(),e.I0R(35,"div",13)(36,"button",14),e.qCj("click",function(){return i.updateCredentials()}),e.OEk(37," Update "),e.C$Y()()()()),2&a){const s=e.Gew(5);e.yG2(9),e.OKB("ngModel",i.name),e.yG2(4),e.OKB("ngModel",i.loggedInUser.email),e.yG2(4),e.OKB("ngModel",i.newPassword),e.yG2(),e.E7m("ngIf",null==s.controls.newPassword?null:s.controls.newPassword.hasError("pattern")),e.yG2(3),e.OKB("ngModel",i.confirmPassword),e.yG2(),e.E7m("ngIf",i.confirmPassword!==i.newPassword&&s.controls.confirmPassword.touched),e.yG2(4),e.OKB("ngModel",i.loggedInUser.designation),e.yG2(4),e.OKB("ngModel",i.loggedInUser.joiningDate),e.yG2(4),e.OKB("ngModel",i.loggedInUser.role),e.yG2(2),e.aUe("background-color: ",s.invalid||s.hasError("passwordMismatch")||i.confirmPassword!==i.newPassword?"#a0aec0":"#1e40af","; color: #ffffff; padding: 10px; border: none; border-radius: 4px; cursor: pointer;"),e.E7m("disabled",s.invalid||s.hasError("passwordMismatch")||i.confirmPassword!==i.newPassword)}},dependencies:[m.u_,d.sz,d.ot,d.ue,d.u,d.eJ,d.E1,d._G,d.SC]})}return n})(),v=(()=>{class n{constructor(t,a){this.authService=t,this.router=a}canActivate(t,a){if(this.authService.checkIsLoggedIn()){const i=t.data.roles;return!(i&&i.length>0&&!i.includes(this.authService.getUserRole())&&(this.router.navigate(["/dashboard/view-pto"]),1))}return this.router.navigate(["/sign-in"]),!1}static#e=this.\u0275fac=function(a){return new(a||n)(e.CoB(l.o),e.CoB(y.E5))};static#t=this.\u0275prov=e.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Pe(n,c){1&n&&(e.SAx(0),e.wR5(1,"app-loading"),e.k70())}function je(n,c){if(1&n&&(e.I0R(0,"tr",9)(1,"td",10),e.OEk(2),e.C$Y(),e.I0R(3,"td",10),e.OEk(4),e.wVc(5,"date"),e.C$Y(),e.I0R(6,"td",10),e.OEk(7),e.C$Y()()),2&n){const t=c.$implicit,a=c.index;e.yG2(2),e.oRS(" ",a+1," "),e.yG2(2),e.oRS(" ",e.kDX(5,3,t.date)," "),e.yG2(3),e.oRS(" ",t.status.toUpperCase()," ")}}function Le(n,c){if(1&n&&(e.SAx(0),e.yuY(1,je,8,5,"tr",8),e.k70()),2&n){const t=e.GaO(2);e.yG2(),e.E7m("ngForOf",t.attendanceHistory)}}function Ne(n,c){1&n&&(e.I0R(0,"tr")(1,"td",11),e.OEk(2,"-- No data available --"),e.C$Y()())}function Ue(n,c){if(1&n&&(e.I0R(0,"div",2)(1,"h2",3),e.OEk(2),e.C$Y(),e.I0R(3,"table",4)(4,"thead",5)(5,"tr")(6,"th",6),e.OEk(7,"Number"),e.C$Y(),e.I0R(8,"th",6),e.OEk(9,"Date"),e.C$Y(),e.I0R(10,"th",6),e.OEk(11,"Status"),e.C$Y()()(),e.I0R(12,"tbody"),e.yuY(13,Le,2,1,"ng-container",0)(14,Ne,3,0,"ng-template",null,7,e.gJz),e.C$Y()()()),2&n){const t=e.Gew(15),a=e.GaO();e.yG2(2),e.oRS("Attendance History for ",a.userName,""),e.yG2(11),e.E7m("ngIf",a.attendanceHistory.length)("ngIfElse",t)}}const Je=[{path:"",component:_,children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:$,canActivate:[v],data:{roles:["admin"]}},{path:"employees",component:L,canActivate:[v],data:{roles:["admin"]}},{path:"add-attendance",component:z,canActivate:[v],data:{roles:["admin"]}},{path:"add-employee",component:f,canActivate:[v],data:{roles:["admin"]}},{path:"view-pto",component:C,canActivate:[v],data:{roles:["admin","employee"]}},{path:"view-requests",component:_e,canActivate:[v],data:{roles:["admin"]}},{path:"request",component:me,canActivate:[v],data:{roles:["employee"]}},{path:"view-history",component:Ie,canActivate:[v],data:{roles:["admin"]}},{path:"edit-employee/:id",component:Ae,canActivate:[v],data:{roles:["admin"]}},{path:"edit-profile",component:Fe,canActivate:[v],data:{roles:["admin","employee"]}},{path:"view-attendance-history/:id",component:(()=>{class n{constructor(t,a){this.route=t,this.dashboardService=a,this.userName=""}ngOnInit(){this.route.paramMap.subscribe(t=>{this.userId=t.get("id"),this.dashboardService.getUserLeaveHistory(this.userId).subscribe(a=>{this.attendanceHistory=a.filter(i=>"present"!=i.status),this.attendanceHistory.sort((i,s)=>i.date<s.date?-1:i.date>s.date?1:0)})}),this.userSubscription=this.dashboardService.getUserById(this.userId).subscribe(t=>{this.userName=t.name})}ngOnDestroy(){this.userSubscription&&this.userSubscription.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||n)(e.GI1(y.gV),e.GI1(o.y))};static#t=this.\u0275cmp=e.In1({type:n,selectors:[["app-view-attendance-history"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["history",""],[1,"relative","m-4","mx-auto","mb-6","max-w-6xl","overflow-x-auto","rounded-md","bg-white","p-4","shadow-md","sm:rounded-lg"],[1,"mb-6","text-center","text-3xl","font-bold"],[1,"w-full","text-left","text-sm","text-gray-500","dark:text-gray-400","lg:px-80","rtl:text-right"],[1,"bg-gray-50","text-xs","uppercase","text-gray-700","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"px-6","py-3"],["noData",""],["class","border-b bg-white hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-600",4,"ngFor","ngForOf"],[1,"border-b","bg-white","hover:bg-gray-50","dark:border-gray-700","dark:bg-gray-800","dark:hover:bg-gray-600"],[1,"px-6","py-4"],["colspan","7",1,"w-full","py-2","text-center"]],template:function(a,i){if(1&a&&e.yuY(0,Pe,2,0,"ng-container",0)(1,Ue,16,3,"ng-template",null,1,e.gJz),2&a){const s=e.Gew(2);e.E7m("ngIf",!i.attendanceHistory)("ngIfElse",s)}},dependencies:[m.ay,m.u_,x,m.y]})}return n})(),canActivate:[v],data:{roles:["admin","employee"]}},{path:"**",redirectTo:"error/404"}]}];let Be=(()=>{class n{static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275mod=e.a4G({type:n});static#n=this.\u0275inj=e.s3X({imports:[y.qQ.forChild(Je),y.qQ]})}return n})();var He=g(180),Ve=g(9144),ze=g(3800);let Qe=(()=>{class n{constructor(t){this.authService=t}intercept(t,a){const i=this.authService.getUserData()?.token,s=t.clone({setHeaders:{Authorization:`Bearer ${i}`}});return a.handle(s).pipe((0,Ve.a)(p=>("Unauthorized - Token expired or invalid."===p.error.error&&this.authService.clearUserData(),(0,ze.c)(p))))}static#e=this.\u0275fac=function(a){return new(a||n)(e.CoB(l.o))};static#t=this.\u0275prov=e.wxM({token:n,factory:n.\u0275fac})}return n})(),Ke=(()=>{class n{constructor(){this.messageSource=new te.g(""),this.toastState=this.messageSource.asObservable()}show(t){this.messageSource.next(t)}static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275prov=e.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ze=(()=>{class n{static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275mod=e.a4G({type:n});static#n=this.\u0275inj=e.s3X({providers:[l.o,o.y,G,v,Ke,m.y,{provide:w.So,useClass:Qe,multi:!0}],imports:[Be,m.MD,d.y,d.sl,y.qQ,He.AuthModule,w.SU,x,O]})}return n})()},1624:(ie,k,g)=>{g.r(k),g.d(k,{LayoutModule:()=>ee});var y=g(7048),e=g(602),_=g(4216),o=g(4496),m=g(9204);let x=(()=>{class r{constructor(l,u){this.authService=l,this.route=u,this.year=(new Date).getFullYear()}logout(){this.authService.clearUserData(),this.route.navigate(["signin"])}static#e=this.\u0275fac=function(u){return new(u||r)(o.GI1(m.o),o.GI1(_.E5))};static#t=this.\u0275cmp=o.In1({type:r,selectors:[["app-footer"]],standalone:!0,features:[o.UHJ],decls:10,vars:1,consts:[[1,"flex","h-16","items-center","bg-white","dark:bg-night-700"],[1,"flex","w-full","items-center","justify-between","px-7","text-[13px]","font-medium"],[1,"text-gray-400","dark:text-night-300"],[1,"mr-2"],["href","https://www.avroxsolutions.com/","target","_blank",1,"font-normal","text-gray-800","hover:text-primary-500","dark:text-night-100","dark:hover:text-primary-500"],[1,"sign-out-button","block","cursor-pointer","rounded-md","px-3","py-2","text-sm","font-semibold",3,"click"]],template:function(u,h){1&u&&(o.I0R(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),o.OEk(4),o.C$Y(),o.I0R(5,"a",4),o.OEk(6," Avrox Solutions "),o.C$Y()(),o.I0R(7,"div",2)(8,"div",5),o.qCj("click",function(){return h.logout()}),o.OEk(9," Sign out "),o.C$Y()()()()),2&u&&(o.yG2(4),o.oRS("",h.year,"\xa9"))},styles:[".sign-out-button[_ngcontent-%COMP%]{background-color:#000;color:#fff;display:none;border:1px solid black;outline:none}@media screen and (max-width: 992px){.sign-out-button[_ngcontent-%COMP%]{display:block}}"]})}return r})();const Y=JSON.parse('{"name":"avrox-pto","displayName":"Avrox PTO","version":"0.2.0","scripts":{"ng":"ng","start":"ng serve --open","build":"yarn run ng build --configuration=production","build:dev":"yarn run ng build --configuration=development","watch":"ng build --watch --configuration development","test":"ng test","prettier":"prettier --config ./.prettierrc --write \\"src/{app,environments}/**/*{.ts,.html,.scss,.json}\\"","prettier:verify":"prettier --config ./.prettierrc --check \\"src/{app,environments}/**/*{.ts,.html,.scss,.json}\\"","prettier:staged":"pretty-quick --staged","lint":"ng lint"},"private":true,"dependencies":{"@angular/animations":"^17.0.1","@angular/cdk":"^17.3.4","@angular/common":"^17.0.1","@angular/compiler":"^17.0.1","@angular/core":"^17.0.1","@angular/forms":"^17.0.1","@angular/material":"^17.0.4","@angular/platform-browser":"^17.0.1","@angular/platform-browser-dynamic":"^17.0.1","@angular/router":"^17.0.1","@tailwindcss/aspect-ratio":"^0.4.0","@tailwindcss/forms":"^0.5.2","@tailwindcss/typography":"^0.5.4","angular-svg-icon":"^13.0.0","apexcharts":"^3.44.2","ngx-toastr":"^18.0.0","rxjs":"~7.4.0","tslib":"^2.3.0","zone.js":"~0.14.2"},"devDependencies":{"@angular-devkit/build-angular":"^17.1.2","@angular/cli":"^17.0.0","@angular/compiler-cli":"^17.0.1","@types/jasmine":"~3.10.0","@types/node":"^12.11.1","autoprefixer":"^10.4.7","cz-conventional-changelog":"^3.3.0","jasmine-core":"~3.10.0","karma":"~6.3.0","karma-chrome-launcher":"~3.1.0","karma-coverage":"~2.0.3","karma-jasmine":"~4.0.0","karma-jasmine-html-reporter":"~1.7.0","postcss":"^8.4.14","prettier":"^2.7.1","prettier-plugin-tailwindcss":"^0.1.12","tailwind-scrollbar":"^1.3.1","tailwindcss":"^3.1.6","typescript":"~5.2.2"}}');var b=g(1368),E=g(2982);function S(r,f){if(1&r&&(o.I0R(0,"p",11),o.OEk(1),o.C$Y()),2&r){const l=o.GaO(3);o.yG2(),o.oRS(" ",l.leaveRequestsCount," ")}}const $=()=>({exact:!0});function D(r,f){if(1&r&&(o.I0R(0,"div",8)(1,"a",9),o.OEk(2),o.C$Y(),o.yuY(3,S,2,1,"p",10),o.C$Y()),2&r){const l=f.sub,u=o.GaO(2);o.yG2(),o.E7m("routerLink",l.route)("routerLinkActiveOptions",o.q4q(4,$)),o.yG2(),o.oRS(" ",l.label," "),o.yG2(),o.E7m("ngIf",l.badge&&u.leaveRequestsCount)}}const T=(r,f)=>({hidden:r,"rotate-90":f});function O(r,f){if(1&r&&(o.I0R(0,"a",12),o.OEk(1),o.C$Y(),o.I0R(2,"button",13),o.wR5(3,"svg-icon",14),o.C$Y()),2&r){const l=f.sub,u=o.GaO(2);o.yG2(),o.oRS(" ",l.label," "),o.yG2(),o.E7m("ngClass",o.IBC(3,T,!u.menuService.showSideBar,l.expanded)),o.yG2(),o.E7m("svgClass","h-5 w-5")}}const A=r=>({sub:r});function w(r,f){if(1&r){const l=o.KQA();o.I0R(0,"li")(1,"div",3),o.qCj("click",function(){const C=o.usT(l).$implicit,R=o.GaO();return o.CGJ(R.toggleMenu(C))}),o.C_f(2,4),o.yuY(3,D,4,5,"ng-template",null,5,o.gJz)(5,O,4,6,"ng-template",null,6,o.gJz),o.C$Y(),o.wR5(7,"app-sidebar-submenu",7),o.C$Y()}if(2&r){const l=f.$implicit,u=o.Gew(4),h=o.Gew(6);o.yG2(2),o.E7m("ngTemplateOutlet",l.children?h:u)("ngTemplateOutletContext",o.S45(3,A,l)),o.yG2(5),o.E7m("submenu",l)}}const G=(r,f)=>({hidden:r,"max-h-screen":f});let M=(()=>{class r{constructor(l,u){this.menuService=l,this.authService=u,this.leaveRequestsCount=0}ngOnInit(){this.filteredSubmenu=JSON.parse(JSON.stringify(this.submenu)),this.filteredSubmenu.children=this.submenu?.children?.filter(l=>l.access===this.authService.getUserRole()),this.menuService.leaveRequests.subscribe(l=>{this.leaveRequestsCount=l})}toggleMenu(l){this.menuService.toggleSubMenu(l)}collapse(l){l.forEach(u=>{u.expanded=!1,u.children&&this.collapse(u.children)})}static#e=this.\u0275fac=function(u){return new(u||r)(o.GI1(E.C),o.GI1(m.o))};static#t=this.\u0275cmp=o.In1({type:r,selectors:[["app-sidebar-submenu"]],inputs:{submenu:"submenu"},standalone:!0,features:[o.UHJ],decls:3,vars:5,consts:[[1,"max-h-0","overflow-hidden","pl-4","pt-1","transition-all","duration-500",3,"ngClass"],[1,"flex","flex-col","border-l","border-dashed","border-gray-200","pl-2","text-night-200","dark:border-night-500"],[4,"ngFor","ngForOf"],[1,"flex","rounded","text-gray-400","hover:bg-gray-100","dark:text-night-300","dark:hover:bg-night-600",3,"click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["parentMenu",""],["childMenu",""],[3,"submenu"],[1,"space-between","flex","items-center"],["routerLinkActive","text-primary-500",1,"inline-block","w-full","px-4","py-2","text-xs","font-semibold",3,"routerLink","routerLinkActiveOptions"],["class","rounded-md bg-primary-500 px-2 text-sm text-white",4,"ngIf"],[1,"rounded-md","bg-primary-500","px-2","text-sm","text-white"],[1,"inline-block","w-full","cursor-pointer","px-4","py-2","text-xs","font-semibold"],[1,"flex","items-center","p-1","text-gray-400","transition-all","duration-500","dark:text-night-400",3,"ngClass"],["src","assets/icons/heroicons/solid/chevron-right.svg",3,"svgClass"]],template:function(u,h){1&u&&(o.I0R(0,"div",0)(1,"ul",1),o.yuY(2,w,8,5,"li",2),o.C$Y()()),2&u&&(o.E7m("ngClass",o.IBC(2,G,!h.menuService.showSideBar,null==h.filteredSubmenu?null:h.filteredSubmenu.expanded)),o.yG2(2),o.E7m("ngForOf",null==h.filteredSubmenu?null:h.filteredSubmenu.children))},dependencies:[r,b.QF,b.Iw,b.u_,b.XV,_.LC,_.ER,e.LO,e.s3],changeDetection:0})}return r})();function q(r,f){if(1&r&&(o.I0R(0,"div",16)(1,"a",17),o.OEk(2),o.C$Y()()),2&r){const l=f.item;o._6D("routerLink",l.route),o.yG2(2),o.oRS(" ",l.label," ")}}function F(r,f){if(1&r&&(o.I0R(0,"div",18)(1,"a",19),o.OEk(2),o.C$Y()()),2&r){const l=f.item;o.yG2(2),o.oRS(" ",l.label," ")}}const P=(r,f)=>({hidden:r,"rotate-90":f});function j(r,f){if(1&r&&(o.I0R(0,"button",20),o.wR5(1,"svg-icon",21),o.C$Y()),2&r){const l=o.GaO().$implicit,u=o.GaO(2);o.E7m("ngClass",o.IBC(2,P,!u.menuService.showSideBar,l.expanded)),o.yG2(),o.E7m("svgClass","h-5 w-5")}}function L(r,f){if(1&r&&(o.I0R(0,"div",22)(1,"span",23),o.OEk(2),o.C$Y()()),2&r){const l=o.GaO().$implicit;o.yG2(2),o.oRS(" ",l.label," ")}}const I=r=>({item:r});function d(r,f){if(1&r){const l=o.KQA();o.I0R(0,"li")(1,"div",7),o.qCj("click",function(){const C=o.usT(l).$implicit,R=o.GaO(2);return o.CGJ(R.toggleMenu(C))}),o.I0R(2,"div",8),o.wR5(3,"svg-icon",9),o.C$Y(),o.C_f(4,10),o.yuY(5,q,3,2,"ng-template",null,11,o.gJz)(7,F,3,1,"ng-template",null,12,o.gJz)(9,j,2,5,"button",13)(10,L,3,1,"div",14),o.C$Y(),o.wR5(11,"app-sidebar-submenu",15),o.C$Y()}if(2&r){const l=f.$implicit,u=o.Gew(6),h=o.Gew(8),C=o.GaO(2);o.yG2(2),o.E7m("ngClass",l.active&&!C.menuService.showSideBar?"text-primary-500":""),o.yG2(),o._6D("src",l.icon),o.E7m("svgClass","h-5 w-5"),o.yG2(),o.E7m("ngTemplateOutlet",l.children?h:u)("ngTemplateOutletContext",o.S45(8,I,l)),o.yG2(5),o.E7m("ngIf",l.children),o.yG2(),o.E7m("ngIf",!C.menuService.showSideBar),o.yG2(),o.E7m("submenu",l)}}function N(r,f){1&r&&(o.I0R(0,"div",24),o.wR5(1,"hr",25),o.C$Y())}const U=r=>({hidden:r});function J(r,f){if(1&r&&(o.I0R(0,"div",1)(1,"div",2)(2,"small",3),o.OEk(3),o.C$Y()(),o.I0R(4,"ul",4),o.yuY(5,d,12,10,"li",5),o.C$Y(),o.yuY(6,N,2,0,"div",6),o.C$Y()),2&r){const l=f.$implicit,u=o.GaO();o.yG2(2),o.E7m("ngClass",o.S45(4,U,!u.menuService.showSideBar)),o.yG2(),o.oRS(" ",l.group," "),o.yG2(2),o.E7m("ngForOf",l.items),o.yG2(),o.E7m("ngIf",l.separator)}}let B=(()=>{class r{constructor(l){this.menuService=l}toggleMenu(l){this.menuService.toggleMenu(l)}ngOnInit(){}static#e=this.\u0275fac=function(u){return new(u||r)(o.GI1(E.C))};static#t=this.\u0275cmp=o.In1({type:r,selectors:[["app-sidebar-menu"]],standalone:!0,features:[o.UHJ],decls:1,vars:1,consts:[["class","pt-4",4,"ngFor","ngForOf"],[1,"pt-4"],[1,"mx-1","mb-2","flex","items-center","justify-between"],[1,"text-xs","font-semibold","text-gray-400","dark:text-night-200",3,"ngClass"],[1,"flex","flex-col","space-y-1"],[4,"ngFor","ngForOf"],["class","pt-3",4,"ngIf"],[1,"group","relative","text-gray-400","dark:text-night-400",3,"click"],[1,"pointer-events-none","absolute","m-2",3,"ngClass"],[3,"src","svgClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["parentMenu",""],["childMenu",""],["class","pointer-events-none absolute right-0 top-1 flex items-center p-1 text-gray-400 transition-all duration-500 dark:text-night-400",3,"ngClass",4,"ngIf"],["class","fixed w-full",4,"ngIf"],[3,"submenu"],[1,"flex","h-9","cursor-pointer","items-center","justify-start","rounded","text-gray-600","hover:bg-gray-100","dark:text-night-100","dark:hover:bg-night-600",3,"routerLink"],["routerLinkActive","text-primary-500",1,"ml-10","truncate","text-xs","font-semibold","tracking-wide","focus:outline-none"],[1,"flex","h-9","cursor-pointer","items-center","justify-start","rounded","hover:bg-gray-100","dark:hover:bg-night-600"],[1,"ml-10","truncate","text-xs","font-semibold","tracking-wide","text-gray-600","focus:outline-none","dark:text-night-100"],[1,"pointer-events-none","absolute","right-0","top-1","flex","items-center","p-1","text-gray-400","transition-all","duration-500","dark:text-night-400",3,"ngClass"],["src","assets/icons/heroicons/solid/chevron-right.svg",3,"svgClass"],[1,"fixed","w-full"],[1,"z-1","absolute","-top-[34px]","left-14","w-auto","min-w-max","origin-left","scale-0","rounded-md","bg-black","p-2","text-xs","font-bold","text-white","shadow-md","transition-all","duration-200","group-hover:scale-100","dark:bg-white","dark:text-night-900"],[1,"pt-3"],[1,"border-dashed","border-gray-200","dark:border-night-500"]],template:function(u,h){1&u&&o.yuY(0,J,7,6,"div",0),2&u&&o.E7m("ngForOf",h.menuService.pagesMenu)},dependencies:[b.Iw,b.QF,e.LO,e.s3,b.XV,_.ER,_.LC,b.u_,M],changeDetection:0})}return r})();var H=g(7240);function V(r,f){1&r&&(o.I0R(0,"div",16)(1,"span",17),o.OEk(2," Sign out "),o.C$Y()())}const z=r=>({"rotate-180":r});let Q=(()=>{class r{constructor(l,u,h,C){this.themeService=l,this.menuService=u,this.route=h,this.authService=C,this.appJson=Y}ngOnInit(){}toggleSidebar(){this.menuService.toggleSidebar()}toggleTheme(){this.themeService.theme=this.themeService.isDark?"light":"dark"}logout(){this.authService.clearUserData(),this.route.navigate(["signin"])}static#e=this.\u0275fac=function(u){return new(u||r)(o.GI1(H.a),o.GI1(E.C),o.GI1(_.E5),o.GI1(m.o))};static#t=this.\u0275cmp=o.In1({type:r,selectors:[["app-sidebar"]],standalone:!0,features:[o.UHJ],decls:20,vars:8,consts:[[1,"hidden","h-full","flex-col","justify-between","overflow-auto","bg-white","pt-3","transition-all","duration-300","scrollbar-thin","scrollbar-thumb-rounded","scrollbar-track-rounded","scrollbar-track-gray-50","scrollbar-thumb-gray-100","dark:bg-night-700","dark:scrollbar-thumb-night-500","dark:scrollbar-track-night-600","lg:flex",3,"ngClass"],[1,"px-4"],[1,"relative","h-10"],[1,"mb-4","flex","items-center","justify-start"],[1,"rounded","bg-primary-500","p-2"],["src","assets/icons/logo.svg",3,"svgClass"],[1,"ml-1","pl-2","text-sm","font-bold","dark:text-night-50"],[1,"absolute","right-2","top-2","flex","h-5","w-5","items-center","justify-center","rounded","text-gray-400","transition-all","duration-200","focus:outline-none","hover:text-gray-500","dark:text-night-400","dark:hover:text-night-300",3,"ngClass","click"],["src","assets/icons/heroicons/solid/chevron-double-left.svg"],[1,"pt-3"],[1,"border-dashed","border-gray-200","dark:border-night-500"],[1,"mx-4","my-4","space-y-1"],[1,"group","flex","h-9","cursor-pointer","items-center","justify-start","rounded","p-2","hover:bg-gray-100","dark:hover:bg-night-600",3,"click"],["src","assets/icons/heroicons/outline/logout.svg",3,"svgClass"],[1,"ml-3","truncate","text-xs","font-semibold","tracking-wide","text-gray-600","focus:outline-none","dark:text-night-100"],["class","fixed w-full",4,"ngIf"],[1,"fixed","w-full"],[1,"z-1","absolute","-top-4","left-12","w-auto","min-w-max","origin-left","scale-0","rounded-md","bg-black","p-2","text-xs","font-bold","text-white","shadow-md","transition-all","duration-200","group-hover:scale-100","dark:bg-white","dark:text-night-900"]],template:function(u,h){1&u&&(o.I0R(0,"nav",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),o.wR5(5,"svg-icon",5),o.C$Y(),o.I0R(6,"b",6),o.OEk(7),o.C$Y()(),o.I0R(8,"button",7),o.qCj("click",function(){return h.toggleSidebar()}),o.I0R(9,"svg-icon",8),o.OEk(10," [svgClass]=\"'h-5 w-5'\"> "),o.C$Y()()(),o.I0R(11,"div",9),o.wR5(12,"hr",10),o.C$Y(),o.wR5(13,"app-sidebar-menu"),o.C$Y(),o.I0R(14,"div",11)(15,"div",12),o.qCj("click",function(){return h.logout()}),o.wR5(16,"svg-icon",13),o.I0R(17,"a",14),o.OEk(18," Sign out "),o.C$Y(),o.yuY(19,V,3,0,"div",15),o.C$Y()()()),2&u&&(o.E7m("ngClass",h.menuService.showSideBar?"w-52 xl:w-64":"w-[70px]"),o.yG2(5),o.E7m("svgClass","h-6 w-6"),o.yG2(2),o.oRS(" ",h.appJson.displayName," "),o.yG2(),o.E7m("ngClass",o.S45(6,z,!h.menuService.showSideBar)),o.yG2(8),o.E7m("svgClass","h-5 w-5 text-gray-400 dark:text-night-400"),o.yG2(3),o.E7m("ngIf",!h.menuService.showSideBar))},dependencies:[b.QF,b.u_,e.LO,e.s3,B]})}return r})();const K=[{path:"dashboard",component:(()=>{class r{constructor(l){this.router=l,this.mainContent=null,this.router.events.subscribe(u=>{u instanceof _.MT&&this.mainContent&&(this.mainContent.scrollTop=0)})}ngOnInit(){this.mainContent=document.getElementById("main-content")}static#e=this.\u0275fac=function(u){return new(u||r)(o.GI1(_.E5))};static#t=this.\u0275cmp=o.In1({type:r,selectors:[["app-layout"]],standalone:!0,features:[o.UHJ],decls:6,vars:0,consts:[[1,"flex","h-screen","w-full","overflow-hidden"],[1,"flex","grow","flex-col","content-start","overflow-hidden","bg-gray-100","dark:bg-night-800"],["id","main-content",1,"mt-12","grow","overflow-auto","scrollbar-thin","scrollbar-thumb-rounded","scrollbar-track-rounded","scrollbar-thumb-white","scrollbar-track-gray-100","dark:scrollbar-thumb-night-700","dark:scrollbar-track-night-800"]],template:function(u,h){1&u&&(o.I0R(0,"div",0),o.wR5(1,"app-sidebar"),o.I0R(2,"div",1)(3,"div",2),o.wR5(4,"router-outlet"),o.C$Y(),o.wR5(5,"app-footer"),o.C$Y()())},dependencies:[Q,_.cP,x]})}return r})(),loadChildren:()=>Promise.resolve().then(g.bind(g,2784)).then(r=>r.DashboardModule)},{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"**",redirectTo:"error/404"}];let Z=(()=>{class r{static#e=this.\u0275fac=function(u){return new(u||r)};static#t=this.\u0275mod=o.a4G({type:r});static#n=this.\u0275inj=o.s3X({imports:[_.qQ.forChild(K),_.qQ]})}return r})();var W=g(180),X=g(2784);let ee=(()=>{class r{static#e=this.\u0275fac=function(u){return new(u||r)};static#t=this.\u0275mod=o.a4G({type:r});static#n=this.\u0275inj=o.s3X({providers:[E.C],imports:[Z,y.SU,e.LO.forRoot(),W.AuthModule,X.DashboardModule]})}return r})()}}]);